{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5de5\u4f5c\u539f\u7406 Thanox \u6574\u4f53\u67b6\u6784\u5206\u4e24\u5c42\uff0c\u5206\u522b\u662f APP \u5c42\uff0c FW \uff08Framework\uff09\u5c42\u3002 FW \u5c42\u8fd0\u884c\u4e8e system_server \u8fdb\u7a0b\uff0c\u4f34\u968f\u7740 AMS \uff08ActivityManagerService\uff0c\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u7ba1\u7406\u670d\u52a1\uff09\u7684\u542f\u52a8\u800c\u542f\u52a8\uff0c \u53ea\u8981\u8d1f\u8d23\u6838\u5fc3\u7ba1\u7406\u903b\u8f91\uff0c\u62e5\u6709\u81f3\u9ad8\u65e0\u4e0a\u7684\u6743\u9650\uff0c\u7528\u6237\u5c42APP\u65e0\u6cd5\u5e72\u6270\u3002 APP \u5c42\u4ec5\u4ec5\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5e94\u7528\u7ea7\u522b\uff0c\u53ea\u8d1f\u8d23\u4e3a\u7528\u6237\u63d0\u4f9bUI\u4ea4\u4e92\uff0c\u53ef\u4e0eFW\u5c42\u8fdb\u884cIPC\uff0c\u5b8c\u6210\u7528\u6237\u7684\u914d\u7f6e\u3002 \u56e0\u6b64\uff0c Thanox \u5e94\u7528\u5728Android\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u5b8c\u6210\u4e86\u90e8\u7f72\uff0c\u8bbe\u5907\u542f\u52a8\u5b8c\u6210\u540e\uff0c\u7528\u6237\u65e0\u9700\u8fdb\u884c\u540e\u53f0\u7684\u7ef4\u62a4\u3002 \u6570\u636e\u5b58\u50a8 \u7531\u4e8e Thanox \u6574\u4f53\u67b6\u6784\u5206\u4e24\u5c42\uff0c\u5176\u6570\u636e\u4e5f\u5206\u4e24\u90e8\u5206\u5b58\u50a8\u3002 FW \u5c42\u7684\u6570\u636e\u5305\u62ec\u5404\u529f\u80fd\u5f00\u5173\u6709 FW \u8d1f\u8d23\u5904\u7406\uff0c\u5b58\u50a8\u5728 /data/system/thanos \u4e0b\u3002 APP \u5c42\u65e0\u6570\u636e\u5b58\u50a8\uff0c\u4f7f\u7528\u7cfb\u7edf\u8bbe\u7f6e\u6e05\u9664\u6570\u636e\u4e0d\u5f71\u54cdThanox\u4f7f\u7528\u3002 \u5982\u679c\u60f3\u8981\u5378\u8f7d Thanox \u6a21\u5757\u5e76\u6e05\u9664\u5176\u6240\u6709\u6570\u636e\uff0c\u53ef\u4ee5\u524d\u5f80 Thanox \u7684 \u8bbe\u7f6e-\u5907\u4efd\u4e0e\u8fd8\u539f-\u7acb\u5373\u5378\u8f7d \u3002 \u5982\u679c\u4f9d\u7136\u65e0\u6cd5\u5220\u9664\uff0c\u8bf7\u5728\u5378\u8f7dThanox\u5e94\u7528\u540e\uff0c\u624b\u52a8\u5220\u9664 /data/system/thanos \u76ee\u5f55\u3002","title":"\u5e94\u7528\u4ecb\u7ecd"},{"location":"#_1","text":"Thanox \u6574\u4f53\u67b6\u6784\u5206\u4e24\u5c42\uff0c\u5206\u522b\u662f APP \u5c42\uff0c FW \uff08Framework\uff09\u5c42\u3002 FW \u5c42\u8fd0\u884c\u4e8e system_server \u8fdb\u7a0b\uff0c\u4f34\u968f\u7740 AMS \uff08ActivityManagerService\uff0c\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u7ba1\u7406\u670d\u52a1\uff09\u7684\u542f\u52a8\u800c\u542f\u52a8\uff0c \u53ea\u8981\u8d1f\u8d23\u6838\u5fc3\u7ba1\u7406\u903b\u8f91\uff0c\u62e5\u6709\u81f3\u9ad8\u65e0\u4e0a\u7684\u6743\u9650\uff0c\u7528\u6237\u5c42APP\u65e0\u6cd5\u5e72\u6270\u3002 APP \u5c42\u4ec5\u4ec5\u662f\u4e00\u4e2a\u666e\u901a\u7684\u5e94\u7528\u7ea7\u522b\uff0c\u53ea\u8d1f\u8d23\u4e3a\u7528\u6237\u63d0\u4f9bUI\u4ea4\u4e92\uff0c\u53ef\u4e0eFW\u5c42\u8fdb\u884cIPC\uff0c\u5b8c\u6210\u7528\u6237\u7684\u914d\u7f6e\u3002 \u56e0\u6b64\uff0c Thanox \u5e94\u7528\u5728Android\u521d\u59cb\u5316\u7684\u65f6\u5019\u5c31\u5b8c\u6210\u4e86\u90e8\u7f72\uff0c\u8bbe\u5907\u542f\u52a8\u5b8c\u6210\u540e\uff0c\u7528\u6237\u65e0\u9700\u8fdb\u884c\u540e\u53f0\u7684\u7ef4\u62a4\u3002","title":"\u5de5\u4f5c\u539f\u7406"},{"location":"#_2","text":"\u7531\u4e8e Thanox \u6574\u4f53\u67b6\u6784\u5206\u4e24\u5c42\uff0c\u5176\u6570\u636e\u4e5f\u5206\u4e24\u90e8\u5206\u5b58\u50a8\u3002 FW \u5c42\u7684\u6570\u636e\u5305\u62ec\u5404\u529f\u80fd\u5f00\u5173\u6709 FW \u8d1f\u8d23\u5904\u7406\uff0c\u5b58\u50a8\u5728 /data/system/thanos \u4e0b\u3002 APP \u5c42\u65e0\u6570\u636e\u5b58\u50a8\uff0c\u4f7f\u7528\u7cfb\u7edf\u8bbe\u7f6e\u6e05\u9664\u6570\u636e\u4e0d\u5f71\u54cdThanox\u4f7f\u7528\u3002 \u5982\u679c\u60f3\u8981\u5378\u8f7d Thanox \u6a21\u5757\u5e76\u6e05\u9664\u5176\u6240\u6709\u6570\u636e\uff0c\u53ef\u4ee5\u524d\u5f80 Thanox \u7684 \u8bbe\u7f6e-\u5907\u4efd\u4e0e\u8fd8\u539f-\u7acb\u5373\u5378\u8f7d \u3002 \u5982\u679c\u4f9d\u7136\u65e0\u6cd5\u5220\u9664\uff0c\u8bf7\u5728\u5378\u8f7dThanox\u5e94\u7528\u540e\uff0c\u624b\u52a8\u5220\u9664 /data/system/thanos \u76ee\u5f55\u3002","title":"\u6570\u636e\u5b58\u50a8"},{"location":"2-Install-Activate/","text":"0.1. \u5b89\u88c5 Thanox\u662f\u4e00\u4e2a\u72ec\u7acb\u7684apk\uff0c\u53ea\u9700\u8981\u4e0b\u8f7dapk\u5b89\u88c5\u5230\u8bbe\u5907\u4e0a\u5373\u53ef\u3002 \u76ee\u524d\u4ec5\u652f\u6301 Android 6.0\u53ca\u5176\u4ee5\u4e0a \u7248\u672c\u7684ROM\u3002 \u5f00\u53d1\u57fa\u4e8e AOSP \u5f00\u53d1\uff0c\u7406\u8bba\u4e0a\u517c\u5bb9\u6240\u6709\u7c7b\u539f\u751f\u4ee5\u53ca\u5176\u4ed6\u5927\u90e8\u5206\u56fd\u4ea7ROM\u3002 0.2. \u6fc0\u6d3b Thanox\u4f9d\u8d56\u4e0e Xposed\u6846\u67b6 \uff0c\u56e0\u6b64\u4f60\u7684\u8bbe\u5907\u5fc5\u987b\u5df2\u7ecf\u6b63\u786e\u5b89\u88c5\u4e86 Xposed\u6846\u67b6 \uff08\u6216\u8005\u5176\u4ed6\u7c7b\u4f3c\u652f\u6301Xposed API\u6846\u67b6\uff09\u3002 \u5b89\u88c5Thanox apk\u540e\uff0c\u8fdb\u5165 Xposed installer \u5e94\u7528\uff0c\u52fe\u9009Thanox\u3002 \u52fe\u9009\u5b8c\u6210\uff0c\u91cd\u542f\u8bbe\u5907\u3002 0.3. \u66f4\u65b0 \u5b89\u88c5\u65b0\u7248\u672c\u540e\uff0c\u8bf7\u6309\u7167 Xposed installer \u7684\u63d0\u793a\u8fdb\u884c\u91cd\u542f\u3002 \u5982\u679c\u672a\u6536\u5230Xposed installer\u7684\u66f4\u65b0\u63d0\u793a\uff0c\u8bf7\u8fdb\u5165Xposed installer\u624b\u52a8\u91cd\u65b0\u52fe\u9009\uff08\u4fdd\u6301Xposed installed\u5b58\u50a8\u7684\u63d2\u4ef6apk\u8def\u5f84\u4e3a\u5f53\u524d\u7248\u672c\uff09\u540e\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\u3002 0.4. \u95ee\u9898\u6392\u67e5 0.4.1. \u65e0\u6cd5\u6fc0\u6d3b\uff1f Thanox\u6fc0\u6d3b\u4e0e\u5426\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u4e0e\u5176\u5de5\u4f5c\u539f\u7406\u606f\u606f\u76f8\u5173\u3002 \u5982\u679c\u65e0\u6cd5\u6fc0\u6d3b\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u65b0\u8fdb\u5165 Xposed installer \u8fdb\u884c\u52fe\u9009\u3002 0.4.2. \u66f4\u65b0\u540e\u91cd\u542f\u663e\u793a\u672a\u6fc0\u6d3b\uff1f \u5f53\u6a21\u5757\u66f4\u65b0\u5b8c\u6210\u540e\uff0c Xposed installer \u4f1a\u901a\u8fc7\u5e7f\u64ad\u63a5\u6536\u7684\u65b9\u5f0f\u76d1\u542c\u5230\u5e94\u7528\u8def\u5f84\u7684\u53d8\u5316\uff0c\u5982\u679c\u4f60\u901a\u8fc7\u4e00\u4e9b\u624b\u6bb5\uff0c\u7981\u6b62\u4e86 Xposed installer \u7684\u5e7f\u64ad\u76d1\u542c\uff0c\u5219\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u3002\u56e0\u6b64\u6700\u597d\u4e0d\u8981\u901a\u8fc7\u4efb\u4f55\u624b\u6bb5\u7981\u6b62 Xposed installer \u7684\u5e7f\u64ad\u63a5\u6536\uff0c\u6216\u8005\u6bcf\u6b21\u66f4\u65b0\u540e\uff0c\u91cd\u65b0\u8fdb\u5165 Xposed installer \u8fdb\u884c\u52fe\u9009\uff0c\u91cd\u542f\u3002 0.4.3. \u5c1d\u8bd5\u4e0a\u8ff0\u624b\u6bb5\u4f9d\u7136\u672a\u6fc0\u6d3b \u8bf7\u622a\u53d6\u5982\u4e0b\u65e5\u5fd7\uff0c\u524d\u5f80github\u65b0\u5efaissue\uff0c\u5e76\u628a\u65e5\u5fd7\u9644\u4e0a\uff1a 1. \u6253\u5f00 Xposed installer \uff0c\u70b9\u51fb \u65e5\u5fd7 \uff08log\uff09\u83dc\u5355\uff0c\u4fdd\u5b58\u65e5\u5fd7\u6587\u4ef6\u3002 2. \u70b9\u51fb\u8fd9\u91cc \u65b0\u5efaissue","title":"\u5b89\u88c5\u4e0e\u6fc0\u6d3b\uff08Install & Active\uff09"},{"location":"2-Install-Activate/#01","text":"Thanox\u662f\u4e00\u4e2a\u72ec\u7acb\u7684apk\uff0c\u53ea\u9700\u8981\u4e0b\u8f7dapk\u5b89\u88c5\u5230\u8bbe\u5907\u4e0a\u5373\u53ef\u3002 \u76ee\u524d\u4ec5\u652f\u6301 Android 6.0\u53ca\u5176\u4ee5\u4e0a \u7248\u672c\u7684ROM\u3002 \u5f00\u53d1\u57fa\u4e8e AOSP \u5f00\u53d1\uff0c\u7406\u8bba\u4e0a\u517c\u5bb9\u6240\u6709\u7c7b\u539f\u751f\u4ee5\u53ca\u5176\u4ed6\u5927\u90e8\u5206\u56fd\u4ea7ROM\u3002","title":"0.1. \u5b89\u88c5"},{"location":"2-Install-Activate/#02","text":"Thanox\u4f9d\u8d56\u4e0e Xposed\u6846\u67b6 \uff0c\u56e0\u6b64\u4f60\u7684\u8bbe\u5907\u5fc5\u987b\u5df2\u7ecf\u6b63\u786e\u5b89\u88c5\u4e86 Xposed\u6846\u67b6 \uff08\u6216\u8005\u5176\u4ed6\u7c7b\u4f3c\u652f\u6301Xposed API\u6846\u67b6\uff09\u3002 \u5b89\u88c5Thanox apk\u540e\uff0c\u8fdb\u5165 Xposed installer \u5e94\u7528\uff0c\u52fe\u9009Thanox\u3002 \u52fe\u9009\u5b8c\u6210\uff0c\u91cd\u542f\u8bbe\u5907\u3002","title":"0.2. \u6fc0\u6d3b"},{"location":"2-Install-Activate/#03","text":"\u5b89\u88c5\u65b0\u7248\u672c\u540e\uff0c\u8bf7\u6309\u7167 Xposed installer \u7684\u63d0\u793a\u8fdb\u884c\u91cd\u542f\u3002 \u5982\u679c\u672a\u6536\u5230Xposed installer\u7684\u66f4\u65b0\u63d0\u793a\uff0c\u8bf7\u8fdb\u5165Xposed installer\u624b\u52a8\u91cd\u65b0\u52fe\u9009\uff08\u4fdd\u6301Xposed installed\u5b58\u50a8\u7684\u63d2\u4ef6apk\u8def\u5f84\u4e3a\u5f53\u524d\u7248\u672c\uff09\u540e\u91cd\u65b0\u542f\u52a8\u8bbe\u5907\u3002","title":"0.3. \u66f4\u65b0"},{"location":"2-Install-Activate/#04","text":"","title":"0.4. \u95ee\u9898\u6392\u67e5"},{"location":"2-Install-Activate/#041","text":"Thanox\u6fc0\u6d3b\u4e0e\u5426\u7684\u5224\u65ad\u6761\u4ef6\uff0c\u4e0e\u5176\u5de5\u4f5c\u539f\u7406\u606f\u606f\u76f8\u5173\u3002 \u5982\u679c\u65e0\u6cd5\u6fc0\u6d3b\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u65b0\u8fdb\u5165 Xposed installer \u8fdb\u884c\u52fe\u9009\u3002","title":"0.4.1. \u65e0\u6cd5\u6fc0\u6d3b\uff1f"},{"location":"2-Install-Activate/#042","text":"\u5f53\u6a21\u5757\u66f4\u65b0\u5b8c\u6210\u540e\uff0c Xposed installer \u4f1a\u901a\u8fc7\u5e7f\u64ad\u63a5\u6536\u7684\u65b9\u5f0f\u76d1\u542c\u5230\u5e94\u7528\u8def\u5f84\u7684\u53d8\u5316\uff0c\u5982\u679c\u4f60\u901a\u8fc7\u4e00\u4e9b\u624b\u6bb5\uff0c\u7981\u6b62\u4e86 Xposed installer \u7684\u5e7f\u64ad\u76d1\u542c\uff0c\u5219\u4f1a\u51fa\u73b0\u8be5\u95ee\u9898\u3002\u56e0\u6b64\u6700\u597d\u4e0d\u8981\u901a\u8fc7\u4efb\u4f55\u624b\u6bb5\u7981\u6b62 Xposed installer \u7684\u5e7f\u64ad\u63a5\u6536\uff0c\u6216\u8005\u6bcf\u6b21\u66f4\u65b0\u540e\uff0c\u91cd\u65b0\u8fdb\u5165 Xposed installer \u8fdb\u884c\u52fe\u9009\uff0c\u91cd\u542f\u3002","title":"0.4.2. \u66f4\u65b0\u540e\u91cd\u542f\u663e\u793a\u672a\u6fc0\u6d3b\uff1f"},{"location":"2-Install-Activate/#043","text":"\u8bf7\u622a\u53d6\u5982\u4e0b\u65e5\u5fd7\uff0c\u524d\u5f80github\u65b0\u5efaissue\uff0c\u5e76\u628a\u65e5\u5fd7\u9644\u4e0a\uff1a 1. \u6253\u5f00 Xposed installer \uff0c\u70b9\u51fb \u65e5\u5fd7 \uff08log\uff09\u83dc\u5355\uff0c\u4fdd\u5b58\u65e5\u5fd7\u6587\u4ef6\u3002 2. \u70b9\u51fb\u8fd9\u91cc \u65b0\u5efaissue","title":"0.4.3. \u5c1d\u8bd5\u4e0a\u8ff0\u624b\u6bb5\u4f9d\u7136\u672a\u6fc0\u6d3b"},{"location":"3-Lazy-Mode/","text":"0.1. \u662f\u4ec0\u4e48 \u6709\u4e9b\u5e94\u7528\u5728\u542f\u52a8\u6216\u8005\u8fd0\u884c\u65f6\uff0c\u4f1a\u542f\u52a8\u4e00\u4e9b\u540e\u53f0\u670d\u52a1\uff0c\u5f53\u5e94\u7528\u56de\u5230\u540e\u53f0\u65f6\uff0c\u8fd9\u4e9b\u540e\u53f0\u670d\u52a1\u5f88\u6709\u53ef\u80fd\u7ee7\u7eed\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u4e00\u4e9b\u8d44\u6e90\u548c\u7535\u6c60\u7684\u6d88\u8017\u3002 \u4e56\u5de7\u6a21\u5f0f \u7684\u4f5c\u7528\uff0c\u662f \u68c0\u6d4b\u5230\u5e94\u7528\u56de\u5230\u540e\u53f0 \u65f6\uff0c\u4e3b\u52a8\u505c\u6b62\u8fd9\u4e9b\u670d\u52a1\u3002 \u56e0\u6b64\u8fd9\u4e2a\u6a21\u5f0f\u9002\u5408\u4e8e\u4e00\u4e9b\u4e0d\u5e38\u7528\u7684\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u540e\u53f0\u670d\u52a1\u7684\u5e94\u7528\uff0c\u5c3d\u91cf\u4e0d\u8981\u7528\u4e8e\u4f9d\u8d56\u6027\u5f88\u5f3a\u7684\u793e\u4ea4\u7c7b\u5e94\u7528\u3002 0.1.1. \u5982\u4f55\u4f7f\u7528 \u8fdb\u5165\u4e56\u5de7\u6a21\u5f0f\u754c\u9762\uff0c\u6253\u5f00\u4e56\u5de7\u6a21\u5f0f\u7684\u5f00\u5173\u3002 \u5c06\u5e94\u7528\u6dfb\u5165\u5217\u8868\u3002","title":"\u4e56\u5de7\u6a21\u5f0f"},{"location":"3-Lazy-Mode/#01","text":"\u6709\u4e9b\u5e94\u7528\u5728\u542f\u52a8\u6216\u8005\u8fd0\u884c\u65f6\uff0c\u4f1a\u542f\u52a8\u4e00\u4e9b\u540e\u53f0\u670d\u52a1\uff0c\u5f53\u5e94\u7528\u56de\u5230\u540e\u53f0\u65f6\uff0c\u8fd9\u4e9b\u540e\u53f0\u670d\u52a1\u5f88\u6709\u53ef\u80fd\u7ee7\u7eed\u5728\u540e\u53f0\u8fd0\u884c\uff0c\u53ef\u80fd\u4f1a\u9020\u6210\u4e00\u4e9b\u8d44\u6e90\u548c\u7535\u6c60\u7684\u6d88\u8017\u3002 \u4e56\u5de7\u6a21\u5f0f \u7684\u4f5c\u7528\uff0c\u662f \u68c0\u6d4b\u5230\u5e94\u7528\u56de\u5230\u540e\u53f0 \u65f6\uff0c\u4e3b\u52a8\u505c\u6b62\u8fd9\u4e9b\u670d\u52a1\u3002 \u56e0\u6b64\u8fd9\u4e2a\u6a21\u5f0f\u9002\u5408\u4e8e\u4e00\u4e9b\u4e0d\u5e38\u7528\u7684\uff0c\u4e0d\u4f9d\u8d56\u4e8e\u540e\u53f0\u670d\u52a1\u7684\u5e94\u7528\uff0c\u5c3d\u91cf\u4e0d\u8981\u7528\u4e8e\u4f9d\u8d56\u6027\u5f88\u5f3a\u7684\u793e\u4ea4\u7c7b\u5e94\u7528\u3002","title":"0.1. \u662f\u4ec0\u4e48"},{"location":"3-Lazy-Mode/#011","text":"\u8fdb\u5165\u4e56\u5de7\u6a21\u5f0f\u754c\u9762\uff0c\u6253\u5f00\u4e56\u5de7\u6a21\u5f0f\u7684\u5f00\u5173\u3002 \u5c06\u5e94\u7528\u6dfb\u5165\u5217\u8868\u3002","title":"0.1.1. \u5982\u4f55\u4f7f\u7528"},{"location":"4-Start-Blocker/","text":"\u5173\u8054\u542f\u52a8 \u8fd9\u4e2a\u8bcd\u53c2\u8003\u4e86\u534e\u4e3aEMUI\u7684\u624b\u673a\u7ba1\u5bb6\uff08Thanox\u540d\u5b57\u4e3a\u540e\u53f0\u542f\u52a8\uff0c\u5305\u542b\u4e86\u5f00\u673a\u5e7f\u64ad\u542f\u52a8\u548c\u5173\u8054\u542f\u52a8\uff09\uff0cAndroid\u5e73\u53f0\u4e0a\uff0c\u9664\u4e86\u7528\u6237\u4e3b\u52a8\u901a\u8fc7\u542f\u52a8\u5668\u542f\u52a8\u4e4b\u5916\uff0c\u542f\u52a8\u5e94\u7528\u7684\u8fdb\u7a0b\u7684\u65b9\u5f0f\u6709\u591a\u79cd\uff0c\u5305\u62ec\u4e0d\u9650\u4e8e\uff1a \u901a\u8fc7\u6ce8\u518c\u7684 \u5e7f\u64ad\u63a5\u6536\u5668 \uff08Broadcast receiver\uff0cAndroid\u5e73\u53f0\u548c\u5e94\u7528\u90fd\u53ef\u80fd\u4f1a\u5229\u7528\u5e7f\u64ad\u4f20\u64ad\u4e00\u4e9b\u4e8b\u4ef6\uff09 \u901a\u8fc7\u6ce8\u518c\u7684 \u5185\u5bb9\u63d0\u4f9b\u8005 \uff08Content provider\uff09 \u901a\u8fc7 AIDL \uff08Android IPC\uff09 \u901a\u8fc7\u542f\u52a8 \u670d\u52a1 \uff08Service\uff09 \u4e86\u89e3\u4e86\u4ee5\u4e0a\u542f\u52a8\u65b9\u5f0f\uff0c\u5982\u679c\u4e00\u4e2a\u5e94\u7528A\uff0c\u60f3\u8981\u542f\u52a8B\uff08\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3aB\u60f3\u901a\u8fc7\u4e00\u4e9b\u624b\u6bb5\u8ba9\u81ea\u5df1\u7684\u8fdb\u7a0b\u542f\u52a8\uff09\uff0c\u4ed6\u53ef\u4ee5\u901a\u8fc7\u4e0a\u8ff0\u624b\u6bb5\u8fbe\u5230\u76ee\u7684\u3002 \u7528\u6237\u770b\u5230\u7684\u73b0\u8c61\u5f80\u5f80\u662f\uff0c\u6211\u6253\u5f00\u4e86A\u5e94\u7528\uff0cB/C/D\u5e94\u7528\u4e5f\u5728\u540e\u53f0\u542f\u52a8\u4e86\uff1f","title":"\u540e\u53f0\u542f\u52a8\u7ba1\u7406\uff08Start blocker\uff09"},{"location":"5-Start-Rules/","text":"0.1. \u524d\u8a00 \u6ce8\u610f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u52a0\u5165\u5173\u8054\u542f\u52a8\u9650\u5236 \u5217\u8868\u4e2d\u7684\u5e94\u7528\u4f1a\u88ab\u7981\u6b62\u4efb\u4f55\u5e94\u7528\u5077\u5077\u540e\u53f0\u542f\u52a8\uff09\uff0c\u53ef\u4ee5\u6ee1\u8db3\u6b63\u5e38\u4f7f\u7528\u9700\u6c42\u3002\u89c4\u5219\u8bbe\u7f6e\u53ea\u662f\u63d0\u4f9b\u7ed9 \u975e\u65b0\u624b \u4f7f\u7528\uff0c\u7528\u6765\u505a\u66f4\u7cbe\u7ec6\u7684\u63a7\u5236\u3002 \u65b0\u624b\u65e0\u9700\u5c1d\u8bd5 \uff01 0.2. \u8bed\u6cd5 \u89c4\u5219\u8bed\u6cd5\u4e3a\u4e09\u4e2a\u89d2\u8272\uff0c\u5206\u522b\u662f \u884c\u52a8 \uff0c\u884c\u52a8\u5305\u62ec ALLOW\uff08\u5141\u8bb8\uff09 \u3001 DENY\uff08\u62d2\u7edd\uff09 \uff0c\u89d2\u8272\uff0c\u5305\u62ec \u542f\u52a8\u8005 \u548c \u76ee\u6807 \uff0c\u4e24\u4e2a\u5e94\u7528\u7684\u5305\u540d\u3002 \u4e5f\u53ef\u4ee5\u7528 THIS \u8868\u793a\u67d0\u4e2a\u5e94\u7528\u81ea\u5df1\u3002 \u4e3e\u4f8b\u8bf4\u660e\uff1a \u5982\u679c\u60f3\u5141\u8bb8\u5fae\u4fe1\u542f\u52a8QQ\uff0c\u53ef\u4ee5\u6dfb\u52a0\u89c4\u5219\uff1a ALLOW com.tencent.mm com.tencent.qq \uff1b \u5982\u679c\u60f3\u5141\u8bb8Android\u7cfb\u7edf\u542f\u52a8\u6240\u6709\u5e94\u7528\uff0c\u53ef\u4ee5\u6dfb\u52a0\u89c4\u5219\uff1a ALLOW android * \uff1b \u5982\u679c\u60f3\u8981\u62d2\u7edd\u4efb\u4f55\u5e94\u7528\u542f\u52a8\u5fae\u4fe1\uff1a DENY * com.tencent.mm \u3002 \u652f\u6301\u4ee5\u8fdb\u7a0b\u4ee3\u53f7\u4ee3\u66ff\u89d2\u8272\uff0c\u76ee\u524d\u53ef\u7528\u4ee3\u53f7\u5305\u62ec\uff1a SHELL \uff0c ROOT \u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60f3\u5141\u8bb8SHELL\u542f\u52a8\u4efb\u4f55QQ\uff1a ALLOW SHELL com.tencent.qq","title":"\u5173\u8054\u542f\u52a8\u89c4\u5219\uff08Rules\uff09"},{"location":"5-Start-Rules/#01","text":"\u6ce8\u610f\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\uff0c\u52a0\u5165\u5173\u8054\u542f\u52a8\u9650\u5236 \u5217\u8868\u4e2d\u7684\u5e94\u7528\u4f1a\u88ab\u7981\u6b62\u4efb\u4f55\u5e94\u7528\u5077\u5077\u540e\u53f0\u542f\u52a8\uff09\uff0c\u53ef\u4ee5\u6ee1\u8db3\u6b63\u5e38\u4f7f\u7528\u9700\u6c42\u3002\u89c4\u5219\u8bbe\u7f6e\u53ea\u662f\u63d0\u4f9b\u7ed9 \u975e\u65b0\u624b \u4f7f\u7528\uff0c\u7528\u6765\u505a\u66f4\u7cbe\u7ec6\u7684\u63a7\u5236\u3002 \u65b0\u624b\u65e0\u9700\u5c1d\u8bd5 \uff01","title":"0.1. \u524d\u8a00"},{"location":"5-Start-Rules/#02","text":"\u89c4\u5219\u8bed\u6cd5\u4e3a\u4e09\u4e2a\u89d2\u8272\uff0c\u5206\u522b\u662f \u884c\u52a8 \uff0c\u884c\u52a8\u5305\u62ec ALLOW\uff08\u5141\u8bb8\uff09 \u3001 DENY\uff08\u62d2\u7edd\uff09 \uff0c\u89d2\u8272\uff0c\u5305\u62ec \u542f\u52a8\u8005 \u548c \u76ee\u6807 \uff0c\u4e24\u4e2a\u5e94\u7528\u7684\u5305\u540d\u3002 \u4e5f\u53ef\u4ee5\u7528 THIS \u8868\u793a\u67d0\u4e2a\u5e94\u7528\u81ea\u5df1\u3002 \u4e3e\u4f8b\u8bf4\u660e\uff1a \u5982\u679c\u60f3\u5141\u8bb8\u5fae\u4fe1\u542f\u52a8QQ\uff0c\u53ef\u4ee5\u6dfb\u52a0\u89c4\u5219\uff1a ALLOW com.tencent.mm com.tencent.qq \uff1b \u5982\u679c\u60f3\u5141\u8bb8Android\u7cfb\u7edf\u542f\u52a8\u6240\u6709\u5e94\u7528\uff0c\u53ef\u4ee5\u6dfb\u52a0\u89c4\u5219\uff1a ALLOW android * \uff1b \u5982\u679c\u60f3\u8981\u62d2\u7edd\u4efb\u4f55\u5e94\u7528\u542f\u52a8\u5fae\u4fe1\uff1a DENY * com.tencent.mm \u3002 \u652f\u6301\u4ee5\u8fdb\u7a0b\u4ee3\u53f7\u4ee3\u66ff\u89d2\u8272\uff0c\u76ee\u524d\u53ef\u7528\u4ee3\u53f7\u5305\u62ec\uff1a SHELL \uff0c ROOT \u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60f3\u5141\u8bb8SHELL\u542f\u52a8\u4efb\u4f55QQ\uff1a ALLOW SHELL com.tencent.qq","title":"0.2. \u8bed\u6cd5"},{"location":"6-Profile/","text":"0.1. \u524d\u8a00 0.2. \u4ecb\u7ecd 0.3. \u65b0\u5efa 0.4. Fatcs-params 0.4.1. \u5e94\u7528\u5b89\u88c5 0.4.2. \u5e94\u7528\u5207\u6362 0.4.3. \u4efb\u52a1\u6e05\u7406 0.4.4. Activity Created 0.4.5. Activity Resumed 0.4.6. Activity Changed 0.4.7. \u5e94\u7528\u505c\u6b62\u8fd0\u884c 0.4.8. \u5c4f\u5e55\u5f00\u5173 0.4.9. \u7535\u91cf\u53d8\u5316 0.4.10. \u84dd\u7259\u4e8b\u4ef6 0.4.11. Wifi\u72b6\u6001\u53d8\u5316 0.4.12. \u7cfb\u7edf\u542f\u52a8 0.4.13. \u63a8\u9001\u6d88\u606f 0.4.14. \u901a\u77e5 0.5. Handle 0.5.1. killer 0.5.2. activity 0.5.3. power 0.5.4. task 0.5.5. ui 0.5.6. hw 0.5.7. io 0.5.8. data 0.5.9. ringtone 0.5.10. sh 0.5.11. input 0.5.12. pkg 0.5.13. Log 0.6. \u5168\u5c40\u53d8\u91cf 0.1. \u524d\u8a00 \u89c4\u5219\u5f15\u64ce\uff1ahttps://github.com/j-easy/easy-rules You can build a simple rules engine yourself. All you need is to create a bunch of objects with conditions and actions, store them in a collection, and run through them to evaluate the conditions and execute the actions. Martin Fowler 0.2. \u4ecb\u7ecd \u60c5\u666f\u6a21\u5f0f\u7b80\u5355\u7406\u89e3\uff1a \u4ec0\u4e48\u65f6\u5019\uff0c\u5e72\u4ec0\u4e48\u3002 \u4ec0\u4e48\u65f6\u5019\u5c31\u662f\u89e6\u53d1\u6761\u4ef6\uff08condition\uff09 \u5e72\u4ec0\u4e48\u5c31\u662f\u52a8\u4f5c\uff08actions\uff09 0.3. \u65b0\u5efa \u65b0\u5efa\u4e00\u6761\u5165\u95e8\u5b9e\u4f8b\u5982\u4e0b\uff0c\u4ee5JSON\u683c\u5f0f\u4e3a\u4f8b\uff1a [ { \"name\": \"Current pkg\", \"description\": \"\u5e94\u7528\u5207\u6362\u65f6\uff0c\u4f7f\u7528Toast\u663e\u793a\u5f53\u524d\u5e94\u7528\u7684\u5f53\u524d\u5e94\u7528\u5305\u540d\", \"priority\": 2, \"condition\": \"frontPkgChanged == true\", \"actions\": [ \"ui.showShortToast(activity.getFrontAppPackage());\" ] } ] \u53c2\u6570\u89e3\u91ca\uff1a \u53c2\u6570\u540d \u542b\u4e49 name \u8bf7\u4f7f\u7528\u82f1\u6587\uff0c\u60c5\u666f\u6a21\u5f0f\u540d\u5b57\uff0c\u591a\u4e2a\u6a21\u5f0f\u4e0d\u80fd\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u88ab\u8986\u76d6 description \u4efb\u610f\u7684\u63cf\u8ff0 priority \u4f18\u5148\u7ea7\uff0c\u51b3\u5b9a\u6267\u884c\u987a\u5e8f condition \u89e6\u53d1\u6761\u4ef6\uff0c\u652f\u6301mvel\u8868\u8fbe\u5f0f\uff0c\u6761\u4ef6\u53ef\u9009\u7684\u57fa\u4e8e\u4e8b\u5b9e\u7684facts-param\u8bf7\u53c2\u8003\u4e0b\u9762\u7684\u7ae0\u8282 \u8bed\u6cd5\u6ce8\u610f\uff1a\u53cc\u5f15\u53f7\u9700\u8981\u4f7f\u7528\\\u8f6c\u79fb\u5b57\u7b26\u8f6c\u4e49 actions \u8981\u6267\u884c\u7684\u52a8\u4f5c\uff0c\u652f\u6301mvel\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\uff0c\u52a8\u4f5c\u53ef\u9009\u7684handle\u8bf7\u53c2\u8003\u4e0b\u9762\u7684\u7ae0\u8282 \u8bed\u6cd5\u6ce8\u610f\uff1a\u53cc\u5f15\u53f7\u9700\u8981\u4f7f\u7528\\\u8f6c\u79fb\u5b57\u7b26\u8f6c\u4e49 0.4. Fatcs-params \u9664\u4e86\u63d0\u4f9b\u89c4\u5219\u5f15\u64ce\u4e4b\u5916\uff0cThanox\u4e5f\u4f1a\u63d0\u4f9b\u5e38\u7528\u7684\u4e8b\u5b9e\u4e0e\u53c2\u6570\uff0c\u7528\u4e8econdition\u6761\u4ef6\u5224\u65ad\u3002 0.4.1. \u5e94\u7528\u5b89\u88c5 \u5e94\u7528\u5b89\u88c5\u6210\u529f\u4e4b\u540e\uff0cthanox\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u5e76\u6ce8\u5165\u4e00\u4e9b\u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u53c2\u6570\u505a\u6761\u4ef6\u5224\u65ad\uff0c\u6216\u8005\u6267\u884c\u52a8\u4f5c\u65f6\u4f5c\u4e3a\u53c2\u6570\u4f7f\u7528\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b pkgAdded Boolean\uff08true/false\uff09 \u65b0\u5e94\u7528\u5df2\u7ecf\u5b89\u88c5 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5b89\u88c5\u7684\u5e94\u7528\u5305\u540d \u5982\u4e0b pkgAdded \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"pkgAdded == true\" pkgName \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"pkgAdded == true && pkgName == \\\"com.tencent.mm\\\"\" \u4f5c\u4e3a\u52a8\u4f5c\u53c2\u6570\uff1a json \"ui.showShortToast(pkgName);\" 0.4.2. \u5e94\u7528\u5207\u6362 \u524d\u53f0\u5e94\u7528\u5207\u6362\u65f6\uff0cthanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b frontPkgChanged Boolean\uff08true/false\uff09 \u524d\u53f0\u5e94\u7528\u5df2\u5207\u6362 \u5982\u4e0b from String\uff08\u5b57\u7b26\u4e32\uff09 \u4ece\u54ea\u4e2a\u5e94\u7528\u5207\u6362\u7684\uff0c\u5305\u540d \u5982\u4e0b to String\uff08\u5b57\u7b26\u4e32\uff09 \u5207\u6362\u5230\u54ea\u4e2a\u5e94\u7528\uff0c\u5305\u540d \u7565 frontPkgChanged \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"frontPkgChanged == true\" from \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff0c\u5fae\u4fe1\u662f\u5426\u56de\u5230\u4e86\u540e\u53f0\uff1a json \"condition\": \"frontPkgChanged == true && from == \\\"com.tencent.mm\\\"\" 0.4.3. \u4efb\u52a1\u6e05\u7406 \u5f53\u67d0\u4e2a\u5e94\u7528\u7684\u4efb\u52a1\u88ab\u79fb\u9664\u65f6\uff0c\u4e00\u822c\u573a\u666f\u4e3a\u6700\u8fd1\u4efb\u52a1\u4e2d\uff0c\u8be5\u4efb\u52a1\u88ab\u7528\u6237\u5212\u6389\u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b taskRemoved Boolean\uff08true/false\uff09 \u4efb\u52a1\u5df2\u79fb\u9664 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u4ece\u54ea\u4e2a\u5e94\u7528\u5207\u6362\u7684\uff0c\u5305\u540d \u5982\u4e0b taskRemoved \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"taskRemoved == true\" pkgName \u793a\u4f8b\uff1a \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff0c\u5fae\u4fe1\u4efb\u52a1\u79fb\u9664\u65f6\u6740\u6b7b\u5e94\u7528\uff1a json \"condition\": \"taskRemoved == true && pkgName == \\\"com.tencent.mm\\\"\"\uff0c \"actions\": [ \"ui.showShortToast(\\\"\u6b63\u5728\u6740\u6b7b\u5fae\u4fe1\\\");\", \"killer.killPackage(pkgName);\" ] 0.4.4. Activity Created \u901a\u5e38\u4e00\u4e2a\u5e94\u7528\u7684\u6d3b\u52a8\u9875\u5df2\u7ecf\u521b\u5efa\u597d\uff0c\u53ef\u4ee5\u79f0\u4e3a Activity Created \u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u901a\u5e38\u4e00\u4e2a\u6d3b\u52a8\u7684\u751f\u547d\u5468\u671f\u4e3aCreated\uff08\u521b\u5efa\u597d\uff09-->Resumed\uff08\u663e\u793a\u597d\uff0c\u53ef\u4ee5\u4ea4\u4e92\u4e86\uff09--> Paused\uff08\u6682\u505c\uff09--> Destroyed\uff08\u9500\u6bc1\u4e86\uff09\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u5982\u679c\u4e00\u4e2a\u6d3b\u52a8\u8d70\u5230Resumed\u72b6\u6001\u65f6\uff0c\u88ab\u5176\u4ed6\u6d3b\u52a8\u8986\u76d6\uff0c\u4f8b\u5982\u88ab\u652f\u4ed8\u5b9d\u652f\u4ed8\u9875\u9762\u8986\u76d6\uff0c\u90a3\u4e48\u5b83\u4f1a\u8d70\u5982\u4e0b\u751f\u547d\u5468\u671f\uff1a Resumed--> Paused\uff08\u88ab\u5176\u4ed6\u6d3b\u52a8\u8986\u76d6\uff09-->Resumed\uff08\u5982\u679c\u5176\u4ed6\u6d3b\u52a8\u9500\u6bc1\u4e86\uff0c\u56de\u5230\u4e86\u8be5\u6d3b\u52a8\uff0c\u90a3\u4e48\u53c8\u4f1a\u6062\u590d\u5230Resumed\uff0c\u800c\u4e0d\u4f1a\u518d\u6b21Create\uff09\u3002 \u8be6\u7ec6\u7684Android\u6d3b\u52a8\u7684\u751f\u547d\u5468\u671f\u53ef\u4ee5\u53c2\u8003\uff1ahttps://developer.android.com/guide/components/activities/activity-lifecycle \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b activityCreated Boolean\uff08true/false\uff09 \u6d3b\u52a8\u9875\u5df2\u7ecf\u521b\u5efa\u597d \u5982\u4e0b componentNameAsString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u5168\u540d\uff0cThanox\u7684\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u590d\u5236\u6765\u7684\u540d\u5b57\u5c31\u662f\u8fd9\u4e2a \u5982\u4e0b componentNameAsShortString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u7f29\u540d \u5982\u4e0b componentName ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u7684\u5305\u540d \u5982\u4e0b 0.4.5. Activity Resumed \u901a\u5e38\u4e00\u4e2a\u5e94\u7528\u7684\u6d3b\u52a8\u9875\u5df2\u7ecf\u663e\u793a\uff0c\u53ef\u4ee5\u79f0\u4e3a Activity Resumed \u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b activityResumed Boolean\uff08true/false\uff09 \u6d3b\u52a8\u5df2\u7ecf\u663e\u793a \u5982\u4e0b componentNameAsString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u5168\u540d\uff0cThanox\u7684\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u590d\u5236\u6765\u7684\u540d\u5b57\u5c31\u662f\u8fd9\u4e2a \u5982\u4e0b componentNameAsShortString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u7f29\u540d \u5982\u4e0b componentName ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u7684\u5305\u540d \u5982\u4e0b \u901a\u5e38\u5f88\u591a\u5e94\u7528\u542f\u52a8\u9996\u9875\u4f1a\u6709\u4e00\u4e2a\u9996\u9875\u663e\u793a\u5e7f\u544a\uff0c\u6709\u4e2a\u8df3\u8fc7\u6309\u94ae\u53ef\u4ee5\u70b9\u51fb\uff0c\u4e0b\u9762\u662f\u4f7f\u7528\u8be5\u4e8b\u5b9e\u5b9e\u73b0\u7684\u5e7f\u544a\u8df3\u8fc7\u793a\u4f8b\uff1a [ { \"name\": \"AD Skip\", \"description\": \"\u5f69\u4e91\u5929\u6c14\u5e7f\u544a\u9875\u9762\u70b9\u51fb\u8df3\u8fc7\", \"priority\": 1, \"condition\": \"activityResumed == true && componentNameAsShortString == \\\"com.nowcasting.activity/.SplashActivity\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u5c1d\u8bd5\u70b9\u51fb\u8df3\u8fc7...\\\");\", \"ui.findAndClickViewByText(\\\"\u8df3\u8fc7\\\", \\\"com.nowcasting.activity/com.nowcasting.activity.SplashActivity\\\");\" ] } ] \u63d0\u793a\uff1a \u6b64\u5904\u6761\u4ef6\u53ea\u5224\u65ad\u4e86\u5f69\u4e91\u5929\u6c14\uff0c\u53ef\u4ee5\u4f7f\u7528||\u64cd\u4f5c\u7b26\u505a\u591a\u6761\u4ef6\u5224\u65ad\u3002 \u6b64\u5904\u7684ui\u64cd\u4f5c\u540e\u7eed\u4f1a\u4ecb\u7ecd\u3002 0.4.6. Activity Changed \u5f53\u524d\u524d\u53f0\u6d3b\u52a8(Activity)\u53d1\u751f\u6539\u53d8\u65f6thanox\u4f1a\u53d1\u5e03\u8be5\u4e8b\u4ef6\u3002(Since Thanox(or Pro)-2.5) \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b frontActivityChanged Boolean\uff08true/false\uff09 \u524d\u53f0Activity\u6539\u53d8 \u65e0 fromActivity ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u65e0 toActivity ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u65e0 ComponentName \u662f\u6d3b\u52a8\u7ec4\u4ef6\u540d\u79f0\u3002 \u4f8b\u5982\uff1a com.android.messaging/com.android.messaging.ui.conversationlist.ConversationListActivity Thanox\u7684\u5f00\u53d1\u8005\u8bbe\u7f6e\u4e2d\uff0c\"\u663e\u793a\u5f53\u524dActivity\"\u529f\u80fd\u4e5f\u53ef\u4ee5\u663e\u793a\u5f53\u524dactivity\u7684ComponentName\u3002 0.4.7. \u5e94\u7528\u505c\u6b62\u8fd0\u884c \u5e94\u7528\u88ab\u6740\u6b7b\u6216\u8005\u5176\u4ed6\u539f\u56e0\u505c\u6b62\u8fd0\u884c\uff0cThanox\u4f1a\u53d1\u5e03\u8be5\u4e8b\u5b9e\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b pkgKilled Boolean\uff08true/false\uff09 \u4efb\u52a1\u5df2\u79fb\u9664 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u5305\u540d \u5982\u4e0b 0.4.8. \u5c4f\u5e55\u5f00\u5173 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b screenOn Boolean\uff08true/false\uff09 \u4eae\u5c4f\u4e8b\u4ef6 \u65e0 screenOff Boolean\uff08true/false\uff09 \u706d\u5c4f\u4e8b\u4ef6 \u65e0 userPresent Boolean\uff08true/false\uff09 \u89e3\u9501\u4e8b\u4ef6 \u65e0 0.4.9. \u7535\u91cf\u53d8\u5316 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b batteryChanged Boolean\uff08true/false\uff09 \u7535\u91cf\u53d1\u751f\u53d8\u5316 \u65e0 batteryLevel int \u7535\u91cf \u65e0 isCharging Boolean\uff08true/false\uff09 \u662f\u5426\u5728\u5145\u7535 \u65e0 isAcCharge Boolean\uff08true/false\uff09 \u662f\u5426\u4e3aAC \u65e0 isUsbCharge Boolean\uff08true/false\uff09 \u662f\u5426\u4e3aUSB \u65e0 0.4.10. \u84dd\u7259\u4e8b\u4ef6 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b btStateChanged Boolean\uff08true/false\uff09 \u84dd\u7259\u5f00\u5173\u72b6\u6001\u53d1\u751f\u53d8\u5316 \u65e0 btStateOff Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5173\u95ed\u72b6\u6001 \u65e0 btStateTurningOff Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u5173\u95ed\u72b6\u6001 \u65e0 btStateOn Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5f00\u542f\u72b6\u6001 \u65e0 btStateTurningOn Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u5f00\u542f\u72b6\u6001 \u65e0 btConnectionStateChanged Boolean\uff08true/false\uff09 \u84dd\u7259\u8fde\u63a5\u72b6\u6001\u53d1\u751f\u53d8\u5316 \u65e0 btConnectionStateConnected Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5df2\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateConnecting Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateDisconnected Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u65ad\u5f00\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateDisconnecting Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u65ad\u5f00\u8fde\u63a5\u72b6\u6001 \u65e0 btBoundedDevices List of BluetoothDevice \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u6a21\u578b\u5217\u8868 \u65e0 btBoundedDeviceAddresses List of String \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u5730\u5740\u5217\u8868 \u65e0 btBoundedDeviceAliasNames List of String \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907Alias\u5217\u8868 \u65e0 btBoundedDeviceBatteryLevel List of Int \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u7535\u91cf\u4fe1\u606f\u5217\u8868 \u65e0 \u8865\u5145\uff1a Battery level in percents from 0 to 100, or -1 if * Bluetooth is disabled, or device is disconnected, or does not have any battery reporting * service, or return value is invalid \u793a\u4f8b1\uff1a [ { \"name\": \"BT Connection State\", \"description\": \"\u84dd\u7259\u8fde\u63a5\u72b6\u6001\u76d1\u542c\uff0c\u6b64\u5904\u76d1\u542c\u8fde\u63a5\u4e8b\u4ef6\uff0cToast\u663e\u793a\u6240\u6709\u8fde\u63a5\u8bbe\u5907\uff0c\u5e76\u5224\u65ad\u662f\u4e0d\u662f\u8fde\u63a5\u7684MDR-XB650BT\", \"priority\": 2, \"condition\": \"btConnectionStateChanged == true && btConnectionStateConnected == true\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u6240\u6709\u8bbe\u5907\u540d\u79f0\u4e3a\uff1a\\\" + btBoundedDeviceAliasNames);\", \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u5305\u542bMDR-XB650BT\u8bbe\u5907\u5417\uff1f\\\" + btBoundedDeviceAliasNames.contains(\\\"MDR-XB650BT\\\"));\" ] } ] \u793a\u4f8b2\uff1a [ { \"name\": \"BT Connection State Advanced\", \"description\": \"\u540c\u84dd\u7259\u8fde\u63a5\u72b6\u6001\u76d1\u542c\uff0c\u53ea\u662f\u4f7f\u7528\u4e86btBoundedDevices:BluetoothDevice\u53c2\u6570\", \"priority\": 2, \"condition\": \"btConnectionStateChanged == true && btConnectionStateConnected == true\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u7b2c\u4e00\u4e2a\u8bbe\u5907\u540d\u79f0\u4e3a\uff1a\\\" + btBoundedDevices.get(0).getAddress());\" ] } ] 0.4.11. Wifi\u72b6\u6001\u53d8\u5316 Wifi\u72b6\u6001\u53d8\u5316\u65f6\u53d1\u51fa\u7684\u4e8b\u4ef6\u3002\uff08Since Thanox 2.5-2\uff09 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b wifiStateChanged Boolean\uff08true/false\uff09 Wifi\u72b6\u6001\u662f\u5426\u6539\u53d8 \u65e0 wifiState WifiState \u72b6\u6001 \u65e0 WifiState: data class WifiState( // \u662f\u5426\u662f\u5f00\u542f\u72b6\u6001 val enabled: Boolean, // \u72b6\u6001\u4fe1\u606f\uff08\u4f8b\u5982\uff1aNo network\uff09 val statusLabel: String?, // SSID\uff08\u4f8b\u5982\uff1aChinaNet-d2Xq-5G\uff09 val ssid: String? ) 0.4.12. \u7cfb\u7edf\u542f\u52a8 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b systemReady Boolean\uff08true/false\uff09 \u7cfb\u7edf\u542f\u52a8\u5b8c\u6210 \u65e0 0.4.13. \u63a8\u9001\u6d88\u606f \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b fcmPushMessageArrived Boolean\uff08true/false\uff09 \u6536\u5230GCM/FCM\u6d88\u606f\u63a8\u9001 \u65e0 pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u5305\u540d \u65e0 0.4.14. \u901a\u77e5 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b notificationAdded Boolean\uff08true/false\uff09 \u65b0\u901a\u77e5\u5230\u8fbe \u65e0 notificationRemoved Boolean\uff08true/false\uff09 \u901a\u77e5\u79fb\u9664 \u65e0 pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u6240\u5c5e\u5e94\u7528\u5305\u540d \u65e0 notificationTitle String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u6807\u9898 \u65e0 notificationContent String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u5185\u5bb9 \u65e0 0.5. Handle Thanox\u4f1a\u63d0\u4f9b\u4e00\u90e8\u5206\u6267\u884c\u52a8\u4f5c\u6240\u9700\u8981\u7684handle\u80fd\u529b\u3002\u4f8b\u5982ui\uff0c\u4e13\u95e8\u7528\u4e8e\u505a\u754c\u9762\u663e\u793a\u76f8\u5173\u7684\u52a8\u4f5c\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 handle.action(params) \u6765\u6267\u884c\u81ea\u5b9a\u4e49\u7684\u52a8\u4f5c\u3002 \u4e0b\u9762\u662f\u76ee\u524d\u652f\u6301\u7684Handle\u80fd\u529b\u3002 0.5.1. killer \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c killPackage \u6740\u6b7b\u5e94\u7528 \u5305\u540d killer.killPackage(\"com.tencent.mm\") Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"killer\") interface IKiller { boolean killPackage(String pkgName); } \u4e3e\u4f8b\uff1a \"actions\": [ // \u6740\u6b7b\u5fae\u4fe1 \"killer.killPackage(\\\"com.tencent.mm\\\")\" ] 0.5.2. activity \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c launchProcessForPackage \u542f\u52a8\u5e94\u7528\u8fdb\u7a0b \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 launchMainActivityForPackage \u6253\u5f00\u5e94\u7528\u4e3b\u754c\u9762 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 getLaunchIntentForPackage \u83b7\u53d6\u7528\u7528\u7684\u542f\u52a8Intent \u5305\u540d \u5982\u4e0b Intent getFrontAppPackage \u83b7\u53d6\u5f53\u524d\u524d\u53f0\u5e94\u7528\u5305\u540d \u65e0 \u5982\u4e0b String\uff08\u5b57\u7b26\u4e32\uff09 getFrontAppPackageComponent \u83b7\u53d6\u5f53\u524d\u524d\u53f0\u5e94\u7528\u7ec4\u4ef6 \u65e0 \u5982\u4e0b ComponentName \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"activity\") interface IActivity { boolean launchProcessForPackage(String pkgName); boolean launchActivity(Intent intent); boolean launchMainActivityForPackage(String pkgName); Intent getLaunchIntentForPackage(String pkgName); String getFrontAppPackage(); ComponentName getFrontAppPackageComponent(); } \u4e3e\u4f8b\uff1a \"actions\": [ // \u542f\u52a8\u5fae\u4fe1\u8fdb\u7a0b \"activity.launchProcessForPackage(\\\"com.tencent.mm\\\")\", // \u6253\u5f00\u5fae\u4fe1\u4e3b\u754c\u9762 \"activity.launchMainActivityForPackage(\\\"com.tencent.mm\\\")\", // \u5410\u53f8\u663e\u793a\u76ee\u524d\u524d\u53f0\u5e94\u7528\u5305\u540d \"toast.showShortToast(activity.getFrontAppPackage())\" ] 0.5.3. power \u7535\u6e90\u76f8\u5173\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c sleep \u4f11\u7720\uff08\u9501\u5c4f\uff09 \u5ef6\u8fdf\u7684\u6beb\u79d2\u6570 \u5982\u4e0b \u65e0 wakeup \u5524\u9192 \u5ef6\u8fdf\u7684\u6beb\u79d2\u6570 \u5982\u4e0b \u65e0 setBrightness \u8bbe\u7f6e\u5c4f\u5e55\u4eae\u5ea6 \u4eae\u5ea6Level\u503c(0~255) \u5982\u4e0b \u65e0 getBrightness \u83b7\u53d6\u5f53\u524d\u5c4f\u5e55\u4eae\u5ea6 \u65e0 \u5982\u4e0b \u5ea6Level\u503c(0~255) setAutoBrightnessEnabled \u8bbe\u7f6e\u81ea\u52a8\u4eae\u5ea6\u5f00\u5173 true/false \u5982\u4e0b \u65e0 isAutoBrightnessEnabled \u662f\u5426\u5f00\u542f\u81ea\u52a8\u4eae\u5ea6 \u65e0 \u5982\u4e0b true/false \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"power\") interface IPower { void sleep(long delay); void wakeup(long delay); void setBrightness(int level); int getBrightness(); void setAutoBrightnessEnabled(boolean enable); boolean isAutoBrightnessEnabled(); } \u4e3e\u4f8b\uff1a { \"actions\": [ // \u7acb\u5373\u9501\u5c4f \"power.sleep(0)\", // 1\u79d2\u540e\u4eae\u5c4f \"power.wakeup(1000)\", \"power.setAutoBrightnessEnabled(false)\", \"power.setBrightness(power.getBrightness() + 1)\", ] } 0.5.4. task \u4efb\u52a1\u76f8\u5173\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c removeTasksForPackage \u79fb\u9664\u5e94\u7528\u7684\u6700\u8fd1\u4efb\u52a1 \u5305\u540d \u5982\u4e0b \u65e0 hasTaskFromPackage \u5e94\u7528\u662f\u5426\u6709\u6700\u8fd1\u4efb\u52a1 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 clearBackgroundTasks \u8c03\u7528thanox\u7684\u4efb\u52a1\u6e05\u7406\u529f\u80fd\uff0c\u6e05\u7406\u6240\u6709\u6700\u8fd1\u4efb\u52a1 \u65e0 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"task\") interface ITask { void removeTasksForPackage(String pkgName); boolean hasTaskFromPackage(String pkgName); void clearBackgroundTasks(); } \u4e3e\u4f8b\uff1a { // \u5224\u65ad\u5fae\u4fe1\u662f\u5426\u6709\u4efb\u52a1 \"condition\": \"true && task.hasTaskFromPackage(\\\"com.tencent.mm\\\")\", \"actions\": [ // \u79fb\u9664\u5fae\u4fe1\u7684\u6700\u8fd1\u4efb\u52a1 \"task.removeTasksForPackage(\\\"com.tencent.mm\\\")\" ] } 0.5.5. ui \u754c\u9762\u76f8\u5173 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c showShortToast \u663e\u793a\u63d0\u793a \u65e0 \u5982\u4e0b \u65e0 showLongToast \u663e\u793a\u65f6\u95f4\u8f83\u77ed\u7684\u63d0\u793a \u65e0 \u5982\u4e0b \u65e0 showDialog \u663e\u793a\u5bf9\u8bdd\u6846 \u6807\u9898\u6587\u672c\uff0c\u4fe1\u606f\u6587\u672c\uff0c\u786e\u8ba4\u6309\u94ae\u6587\u672c \u5982\u4e0b \u65e0 showNotification \u663e\u793a\u901a\u77e5 \u6807\u7b7e\uff08\u53ef\u7528\u4e8e\u53d6\u6d88\u901a\u77e5\uff09\u6807\u9898\u6587\u672c\uff0c\u4fe1\u606f\u6587\u672c\uff0c\u662f\u5426\u91cd\u8981 \u5982\u4e0b \u65e0 cancelNotification \u53d6\u6d88\u901a\u77e5 \u6807\u7b7e \u5982\u4e0b findAndClickViewByText \u70b9\u51fb\u67d0\u6587\u5b57\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff08\u9ed8\u8ba4\u5728\u5f53\u524d\u663e\u793a\u7684\u9875\u6d3b\u52a8\u9875\u67e5\u8be2\uff09 \u5982\u4e0b \u65e0 findAndClickViewByText \u70b9\u51fb\u67d0\u6587\u5b57\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff0c\u6240\u5728\u6d3b\u52a8\u7ec4\u4ef6 \u5982\u4e0b \u65e0 findAndClickViewById \u70b9\u51fb\u67d0ID\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff08\u9ed8\u8ba4\u5728\u5f53\u524d\u663e\u793a\u7684\u9875\u6d3b\u52a8\u9875\u67e5\u8be2\uff09 \u5982\u4e0b \u65e0 findAndClickViewById \u70b9\u51fb\u67d0ID\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff0c\u6240\u5728\u6d3b\u52a8\u7ec4\u4ef6 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"ui\") interface IUI { void showShortToast(@NonNull String msg); void showLongToast(@NonNull String msg); void showDialog(@Nullable String title, @NonNull String msg, @Nullable String yes); void showNotification( @NonNull String notificationTag, @NonNull String title, @NonNull String msg, boolean important); void cancelNotification(@NonNull String notificationTag); void findAndClickViewByText(@NonNull String text); void findAndClickViewByText(@NonNull String text, @Nullable String componentNameShortString); } \u4e3e\u4f8b\uff1a [ { \"name\": \"AD Skip\", \"description\": \"\u5f69\u4e91\u5929\u6c14\u5e7f\u544a\u9875\u9762\u70b9\u51fb\u8df3\u8fc7\", \"priority\": 1, \"condition\": \"activityResumed == true && componentNameAsShortString == \\\"com.nowcasting.activity/.SplashActivity\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u5c1d\u8bd5\u70b9\u51fb\u8df3\u8fc7...\\\");\", \"ui.findAndClickViewByText(\\\"\u8df3\u8fc7\\\", \\\"com.nowcasting.activity/com.nowcasting.activity.SplashActivity\\\");\" ] } ] \u63d0\u793a\uff1a \u5982\u4f55\u83b7\u53d6\u4e00\u4e2aView\u7684ID\uff1f \u4e0d\u662f\u6240\u6709\u7684View\u90fd\u4f1a\u88ab\u5206\u914d\u4e00\u4e2aID\uff0c\u4f60\u53ef\u4ee5\u501f\u52a9\u4e00\u4e9b\u5f00\u53d1\u5de5\u5177\u6765\u83b7\u53d6\uff0c\u4e0d\u77e5\u9053\u662f\u5426\u6709\u8fd9\u6837\u7684App\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\uff0c Thanox\u9ed8\u8ba4\u5e26\u4e86\u4e00\u4e2aViewId\u52a9\u624b\uff0c\u4f60\u9700\u8981\u6253\u5f00\u7cfb\u7edf\u8bbe\u7f6e--\u5f00\u53d1\u8005\u9009\u9879--\u663e\u793a\u5e03\u5c40\u8fb9\u754c\uff0c\u754c\u9762\u4e0a\u4f1a\u51fa\u73b0\u6240\u6709View\u7684ID\u3002 \u6ce8\u610f\uff0c\u4e0a\u8ff0Handle\u652f\u6301\u7684ViewId\u7684\u683c\u5f0f\u4e3a\uff1a \u5305\u540d:id/\u771f\u6b63\u7684id \uff0c\u4f8b\u5982\uff1a com.coolapk.market:id/title_view \u5728\u63a8\u8350\u4e00\u4e2aAndroid\u5f00\u53d1\u5de5\u5177\uff1auiautomatorviewer\uff0c\u9700\u8981\u4e0b\u8f7dAndroid SDK\u3002\u5177\u4f53\u914d\u7f6e\u53ef\u4ee5Google\u3002 \u4f7f\u7528\u5982\u56fe\uff1a 0.5.6. hw \u786c\u4ef6\u64cd\u4f5c\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c enableWifi \u770b\u540d\u5b57 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 disableWifi \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isWifiEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableLocation \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableLocation \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isLocationEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableBT \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableBT \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isBTEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableNfc \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableNfc \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isNfcEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enabledFlashlight \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableFlashlight \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isFlashlightEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isFlashlightAvailable \u624b\u7535\u7b52\u662f\u5426\u53ef\u7528\uff08\u88ab\u5360\u7528\uff1f\u65e0\u786c\u4ef6\uff1f\uff09 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"hw\") interface IHW { boolean enableWifi(); boolean disableWifi(); boolean isWifiEnabled(); boolean enableLocation(); boolean disableLocation(); boolean isLocationEnabled(); boolean enableBT(); boolean disableBT(); boolean isBTEnabled(); boolean enableNfc(); boolean disableNfc(); boolean isNfcEnabled(); boolean enabledFlashlight(); boolean disableFlashlight(); boolean isFlashlightEnabled(); boolean isFlashlightAvailable(); } \u4e3e\u4f8b\uff1a [ { \"name\": \"Enable BT\", \"description\": \"\u6253\u5f00\u5fae\u4fe1\u65f6\uff0c\u6253\u5f00\u84dd\u7259\", \"priority\": 2, \"condition\": \"frontPkgChanged == true && to == \\\"com.tencent.mm\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u72b6\u6001\\\" + (hw.isBTEnabled() ? \\\"\u5f00\u542f\\\" : \\\"\u5173\u95ed\\\"));\", \"ui.showShortToast(\\\"\u6b63\u5728\u6253\u5f00\u84dd\u7259...\\\");\", \"ui.showShortToast(\\\"\u84dd\u7259\u6253\u5f00\\\" + (hw.enableBT() ? \\\"\u6210\u529f\\\" : \\\"\u5931\u8d25\\\"));\", // \u6253\u5f00GPS \"hw.enableLocation()\", \"hw.enableWifi()\" ] } ] 0.5.7. io \u6587\u4ef6\u8bfb\u5199\u80fd\u529b\u3002 \u6ce8\u610f\uff1a\u53d7\u9650\u4e8e\u6587\u4ef6\u6743\u9650\uff0c\u6240\u6709\u6587\u4ef6\u7684\u6839\u76ee\u5f55\u4e3a/data/system/thanos/profile_user_io \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c read \u8bfb\u53d6\u6587\u4ef6 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 String disableWifi \u5199\u5185\u5bb9\u5230\u6587\u4ef6 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 Boolean\uff08true/false\uff09 writeAppend \u5199\u5185\u5bb9\u5230\u6587\u4ef6\uff0c\u8ffd\u52a0 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"io\") interface IIO { String read(String path); boolean write(String path, String content); boolean writeAppend(String path, String content); } 0.5.8. data \u79fb\u52a8\u6570\u636e\u76f8\u5173\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c setDataEnabled \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 setDataEnabled \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u5e8f\u53f7\uff09 \u5361\u5e8f\u53f7\uff0ctrue\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b \u65e0 setDataEnabledForSlot \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u69fd\u53f7\uff09 \u5361\u5e8f\u53f7\uff0ctrue\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b \u65e0 isDataEnabled \u83b7\u53d6\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 isDataEnabledForSlot \u83b7\u53d6\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u69fd\u53f7\uff09 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 setDataNetworkType \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f type \u5982\u4e0b \u65e0 setDataNetworkTypeForPhone \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f\uff08\u6307\u5b9a\u67d0\u4e2a\u5361\uff09 phoneId\uff0ctype \u5982\u4e0b \u65e0 setDataNetworkTypeForSlot \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f\uff08\u6307\u5b9a\u67d0\u4e2a\u5361\u69fd\u53f7\uff09 slotId\uff0ctype \u5982\u4e0b \u65e0 getCurrentPreferredNetworkMode \u83b7\u53d6\u5f53\u524d\u9ed8\u8ba4\u5361\u7684\u7f51\u7edc\u6a21\u5f0f \u65e0 \u5982\u4e0b int getCurrentPreferredNetworkMode \u83b7\u53d6\u67d0subId\u7684\u7f51\u7edc\u6a21\u5f0f subId \u5982\u4e0b int getCurrentPreferredNetworkModeForSlot \u83b7\u53d6\u67d0\u5361\u69fd\u7684\u7f51\u7edc\u6a21\u5f0f slotId \u5982\u4e0b int \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"data\") interface IData { void setDataEnabled(boolean enable); void setDataEnabled(int subId, boolean enable); void setDataEnabledForSlot(int slotId, boolean enable); boolean isDataEnabled(); boolean isDataEnabledForSlot(int slotId); void setDataNetworkType(int type); void setDataNetworkTypeForPhone(int phoneId, int type); void setDataNetworkTypeForSlot(int slotId, int type); int getCurrentPreferredNetworkMode(); int getCurrentPreferredNetworkMode(int subId); int getCurrentPreferredNetworkModeForSlot(int slotId); } \u6570\u636e\u7f51\u7edc\u6a21\u5f0f\u7c7b\u578b\uff1a // Network type enums, primarily used by android/telephony/TelephonyManager.java. // Do not add negative types. enum NetworkTypeEnum { NETWORK_TYPE_UNKNOWN = 0; NETWORK_TYPE_GPRS = 1; NETWORK_TYPE_EDGE = 2; NETWORK_TYPE_UMTS = 3; NETWORK_TYPE_CDMA = 4; NETWORK_TYPE_EVDO_0 = 5; NETWORK_TYPE_EVDO_A = 6; NETWORK_TYPE_1XRTT = 7; NETWORK_TYPE_HSDPA = 8; NETWORK_TYPE_HSUPA = 9; NETWORK_TYPE_HSPA = 10; NETWORK_TYPE_IDEN = 11; NETWORK_TYPE_EVDO_B = 12; NETWORK_TYPE_LTE = 13; NETWORK_TYPE_EHRPD = 14; NETWORK_TYPE_HSPAP = 15; NETWORK_TYPE_GSM = 16; NETWORK_TYPE_TD_SCDMA = 17; NETWORK_TYPE_IWLAN = 18; NETWORK_TYPE_LTE_CA = 19; NETWORK_TYPE_NR = 20; } \u4e3e\u4f8b\uff1a [ { \"name\": \"Enable Data\", \"description\": \"\u6253\u5f00\u5fae\u4fe1\u65f6\uff0c\u6253\u5f00\u79fb\u52a8\u6570\u636e\", \"priority\": 2, \"condition\": \"frontPkgChanged == true && to == \\\"com.tencent.mm\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u79fb\u52a8\u6570\u636e\u5f53\u524d\\\" + (data.isDataEnabled() ? \\\"\u5f00\u542f\\\" : \\\"\u5173\u95ed\\\"));\", \"ui.showShortToast(\\\"\u6b63\u5728\u6253\u5f00\u79fb\u52a8\u6570\u636e...\\\");\", \"data.setDataEnabled(true)\" ] } ] 0.5.9. ringtone \u94c3\u97f3\u632f\u52a8\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c dingdingding \u770b\u540d\u5b57 \u65e0\u6216\u8005\u91cd\u590d\u6b21\u6570 \u5982\u4e0b \u65e0 wengwengweng \u770b\u540d\u5b57 \u65e0\u6216\u8005\u91cd\u590d\u6b21\u6570 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"ringtone\") interface IRingtone { void dingdingding(); void wengwengweng(); void dingdingding(int repeat); void wengwengweng(int repeat); } 0.5.10. sh Shell sh\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c exe \u6267\u884csh\u547d\u4ee4 \u547d\u4ee4\u5b57\u7b26\u4e32 \u65e0 \u7ed3\u679c \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"sh\") interface ISh { CommandResult exe(String command); } 0.5.11. input \u6309\u952e\u8f93\u5165\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c injectKey \u6267\u884csh\u547d\u4ee4 \u547d\u4ee4\u5b57\u7b26\u4e32 \u65e0 \u7ed3\u679c getLastKey \u8fd4\u56de\u4e0a\u6b21\u6309\u952e\u7801 \u65e0 \u65e0 \u6309\u952e\u7801 getLastKeyTime \u8fd4\u56de\u4e0a\u6b21\u6309\u952e\u7684\u7cfb\u7edf\u65f6\u95f4 \u65e0 \u65e0 \u7cfb\u7edf\u65f6\u95f4mills \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"input\") interface IInput { boolean injectKey(int code); int getLastKey(); long getLastKeyTime(); } 0.5.12. pkg \u5305\u7ba1\u7406\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c disableApplication \u51bb\u7ed3\u5e94\u7528 \u5305\u540d \u65e0 \u65e0 enableApplication \u89e3\u51bb\u5e94\u7528 \u5305\u540d \u65e0 \u65e0 isApplicationEnabled \u5e94\u7528\u662f\u5426\u4e3a\u975e\u51bb\u7ed3\u72b6\u6001 \u5305\u540d \u65e0 Boolean(true/false) \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"pkg\") interface IPkg { void disableApplication(String pkg); void enableApplication(String pkg); boolean isApplicationEnabled(String pkg); } 0.5.13. Log \u65e5\u5fd7\u6253\u5370\u5de5\u5177\u3002 \u4f7f\u7528\u793a\u4f8b: log.log(\"Log message\"); \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"log\") public interface ILog { void log(String content); } 0.6. \u5168\u5c40\u53d8\u91cf \u5168\u5c40\u53d8\u91cf\uff1aname-List \uff0c\u540d\u5b57---\u5b57\u7b26\u4e32\u5217\u8868 \u53ef\u7528\u4e8e\u6761\u4ef6\u5224\u65ad\uff0c\u4e8b\u4ef6\u5904\u7406\u7b49\u3002 Thanox\u652f\u6301\u521b\u5efa\uff0c\u5bfc\u5165\u5168\u5c40\u53d8\u91cf\u3002\u53d1\u5e03\u4e8b\u5b9e\u65f6\uff0c\u4f60\u53ef\u4ee5\u7528\u8fc7 globalVarOf$ \u62fc\u63a5 \u53d8\u91cf\u540d \u6765\u8bbf\u95ee\u3002\u4ee5\u53d8\u91cfapps\u4e3a\u4f8b\uff1a [ { \"name\": \"Use var example\", \"description\": \"\u5e94\u7528\u5207\u6362\u65f6\uff0c\u5982\u679c\u5f53\u524d\u524d\u53f0\u5e94\u7528\u5728\u5b9a\u4e49\u7684\u53d8\u91cf\u5217\u8868apps\u4e2d\uff0cToast\u4f7f\u7528\u8f93\u51fa\u5305\u540d\", \"priority\": 1, \"condition\": \"frontPkgChanged == true && globalVarOf$apps.contains(to)\", \"actions\": [ \"ui.showShortToast(to);\" ] } ]","title":"\u60c5\u666f\u6a21\u5f0f\uff08Profile\uff09"},{"location":"6-Profile/#01","text":"\u89c4\u5219\u5f15\u64ce\uff1ahttps://github.com/j-easy/easy-rules You can build a simple rules engine yourself. All you need is to create a bunch of objects with conditions and actions, store them in a collection, and run through them to evaluate the conditions and execute the actions. Martin Fowler","title":"0.1. \u524d\u8a00"},{"location":"6-Profile/#02","text":"\u60c5\u666f\u6a21\u5f0f\u7b80\u5355\u7406\u89e3\uff1a \u4ec0\u4e48\u65f6\u5019\uff0c\u5e72\u4ec0\u4e48\u3002 \u4ec0\u4e48\u65f6\u5019\u5c31\u662f\u89e6\u53d1\u6761\u4ef6\uff08condition\uff09 \u5e72\u4ec0\u4e48\u5c31\u662f\u52a8\u4f5c\uff08actions\uff09","title":"0.2. \u4ecb\u7ecd"},{"location":"6-Profile/#03","text":"\u65b0\u5efa\u4e00\u6761\u5165\u95e8\u5b9e\u4f8b\u5982\u4e0b\uff0c\u4ee5JSON\u683c\u5f0f\u4e3a\u4f8b\uff1a [ { \"name\": \"Current pkg\", \"description\": \"\u5e94\u7528\u5207\u6362\u65f6\uff0c\u4f7f\u7528Toast\u663e\u793a\u5f53\u524d\u5e94\u7528\u7684\u5f53\u524d\u5e94\u7528\u5305\u540d\", \"priority\": 2, \"condition\": \"frontPkgChanged == true\", \"actions\": [ \"ui.showShortToast(activity.getFrontAppPackage());\" ] } ] \u53c2\u6570\u89e3\u91ca\uff1a \u53c2\u6570\u540d \u542b\u4e49 name \u8bf7\u4f7f\u7528\u82f1\u6587\uff0c\u60c5\u666f\u6a21\u5f0f\u540d\u5b57\uff0c\u591a\u4e2a\u6a21\u5f0f\u4e0d\u80fd\u91cd\u590d\uff0c\u5426\u5219\u4f1a\u88ab\u8986\u76d6 description \u4efb\u610f\u7684\u63cf\u8ff0 priority \u4f18\u5148\u7ea7\uff0c\u51b3\u5b9a\u6267\u884c\u987a\u5e8f condition \u89e6\u53d1\u6761\u4ef6\uff0c\u652f\u6301mvel\u8868\u8fbe\u5f0f\uff0c\u6761\u4ef6\u53ef\u9009\u7684\u57fa\u4e8e\u4e8b\u5b9e\u7684facts-param\u8bf7\u53c2\u8003\u4e0b\u9762\u7684\u7ae0\u8282 \u8bed\u6cd5\u6ce8\u610f\uff1a\u53cc\u5f15\u53f7\u9700\u8981\u4f7f\u7528\\\u8f6c\u79fb\u5b57\u7b26\u8f6c\u4e49 actions \u8981\u6267\u884c\u7684\u52a8\u4f5c\uff0c\u652f\u6301mvel\u8868\u8fbe\u5f0f\uff0c\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\uff0c\u52a8\u4f5c\u53ef\u9009\u7684handle\u8bf7\u53c2\u8003\u4e0b\u9762\u7684\u7ae0\u8282 \u8bed\u6cd5\u6ce8\u610f\uff1a\u53cc\u5f15\u53f7\u9700\u8981\u4f7f\u7528\\\u8f6c\u79fb\u5b57\u7b26\u8f6c\u4e49","title":"0.3. \u65b0\u5efa"},{"location":"6-Profile/#04-fatcs-params","text":"\u9664\u4e86\u63d0\u4f9b\u89c4\u5219\u5f15\u64ce\u4e4b\u5916\uff0cThanox\u4e5f\u4f1a\u63d0\u4f9b\u5e38\u7528\u7684\u4e8b\u5b9e\u4e0e\u53c2\u6570\uff0c\u7528\u4e8econdition\u6761\u4ef6\u5224\u65ad\u3002","title":"0.4. Fatcs-params"},{"location":"6-Profile/#041","text":"\u5e94\u7528\u5b89\u88c5\u6210\u529f\u4e4b\u540e\uff0cthanox\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u5e76\u6ce8\u5165\u4e00\u4e9b\u53c2\u6570\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e9b\u53c2\u6570\u505a\u6761\u4ef6\u5224\u65ad\uff0c\u6216\u8005\u6267\u884c\u52a8\u4f5c\u65f6\u4f5c\u4e3a\u53c2\u6570\u4f7f\u7528\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b pkgAdded Boolean\uff08true/false\uff09 \u65b0\u5e94\u7528\u5df2\u7ecf\u5b89\u88c5 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5b89\u88c5\u7684\u5e94\u7528\u5305\u540d \u5982\u4e0b pkgAdded \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"pkgAdded == true\" pkgName \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"pkgAdded == true && pkgName == \\\"com.tencent.mm\\\"\" \u4f5c\u4e3a\u52a8\u4f5c\u53c2\u6570\uff1a json \"ui.showShortToast(pkgName);\"","title":"0.4.1. \u5e94\u7528\u5b89\u88c5"},{"location":"6-Profile/#042","text":"\u524d\u53f0\u5e94\u7528\u5207\u6362\u65f6\uff0cthanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b frontPkgChanged Boolean\uff08true/false\uff09 \u524d\u53f0\u5e94\u7528\u5df2\u5207\u6362 \u5982\u4e0b from String\uff08\u5b57\u7b26\u4e32\uff09 \u4ece\u54ea\u4e2a\u5e94\u7528\u5207\u6362\u7684\uff0c\u5305\u540d \u5982\u4e0b to String\uff08\u5b57\u7b26\u4e32\uff09 \u5207\u6362\u5230\u54ea\u4e2a\u5e94\u7528\uff0c\u5305\u540d \u7565 frontPkgChanged \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"frontPkgChanged == true\" from \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff0c\u5fae\u4fe1\u662f\u5426\u56de\u5230\u4e86\u540e\u53f0\uff1a json \"condition\": \"frontPkgChanged == true && from == \\\"com.tencent.mm\\\"\"","title":"0.4.2. \u5e94\u7528\u5207\u6362"},{"location":"6-Profile/#043","text":"\u5f53\u67d0\u4e2a\u5e94\u7528\u7684\u4efb\u52a1\u88ab\u79fb\u9664\u65f6\uff0c\u4e00\u822c\u573a\u666f\u4e3a\u6700\u8fd1\u4efb\u52a1\u4e2d\uff0c\u8be5\u4efb\u52a1\u88ab\u7528\u6237\u5212\u6389\u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b taskRemoved Boolean\uff08true/false\uff09 \u4efb\u52a1\u5df2\u79fb\u9664 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u4ece\u54ea\u4e2a\u5e94\u7528\u5207\u6362\u7684\uff0c\u5305\u540d \u5982\u4e0b taskRemoved \u793a\u4f8b \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff1a json \"condition\": \"taskRemoved == true\" pkgName \u793a\u4f8b\uff1a \u4f5c\u4e3a\u6761\u4ef6\u5224\u65ad\uff0c\u5fae\u4fe1\u4efb\u52a1\u79fb\u9664\u65f6\u6740\u6b7b\u5e94\u7528\uff1a json \"condition\": \"taskRemoved == true && pkgName == \\\"com.tencent.mm\\\"\"\uff0c \"actions\": [ \"ui.showShortToast(\\\"\u6b63\u5728\u6740\u6b7b\u5fae\u4fe1\\\");\", \"killer.killPackage(pkgName);\" ]","title":"0.4.3. \u4efb\u52a1\u6e05\u7406"},{"location":"6-Profile/#044-activity-created","text":"\u901a\u5e38\u4e00\u4e2a\u5e94\u7528\u7684\u6d3b\u52a8\u9875\u5df2\u7ecf\u521b\u5efa\u597d\uff0c\u53ef\u4ee5\u79f0\u4e3a Activity Created \u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u901a\u5e38\u4e00\u4e2a\u6d3b\u52a8\u7684\u751f\u547d\u5468\u671f\u4e3aCreated\uff08\u521b\u5efa\u597d\uff09-->Resumed\uff08\u663e\u793a\u597d\uff0c\u53ef\u4ee5\u4ea4\u4e92\u4e86\uff09--> Paused\uff08\u6682\u505c\uff09--> Destroyed\uff08\u9500\u6bc1\u4e86\uff09\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c \u5982\u679c\u4e00\u4e2a\u6d3b\u52a8\u8d70\u5230Resumed\u72b6\u6001\u65f6\uff0c\u88ab\u5176\u4ed6\u6d3b\u52a8\u8986\u76d6\uff0c\u4f8b\u5982\u88ab\u652f\u4ed8\u5b9d\u652f\u4ed8\u9875\u9762\u8986\u76d6\uff0c\u90a3\u4e48\u5b83\u4f1a\u8d70\u5982\u4e0b\u751f\u547d\u5468\u671f\uff1a Resumed--> Paused\uff08\u88ab\u5176\u4ed6\u6d3b\u52a8\u8986\u76d6\uff09-->Resumed\uff08\u5982\u679c\u5176\u4ed6\u6d3b\u52a8\u9500\u6bc1\u4e86\uff0c\u56de\u5230\u4e86\u8be5\u6d3b\u52a8\uff0c\u90a3\u4e48\u53c8\u4f1a\u6062\u590d\u5230Resumed\uff0c\u800c\u4e0d\u4f1a\u518d\u6b21Create\uff09\u3002 \u8be6\u7ec6\u7684Android\u6d3b\u52a8\u7684\u751f\u547d\u5468\u671f\u53ef\u4ee5\u53c2\u8003\uff1ahttps://developer.android.com/guide/components/activities/activity-lifecycle \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b activityCreated Boolean\uff08true/false\uff09 \u6d3b\u52a8\u9875\u5df2\u7ecf\u521b\u5efa\u597d \u5982\u4e0b componentNameAsString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u5168\u540d\uff0cThanox\u7684\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u590d\u5236\u6765\u7684\u540d\u5b57\u5c31\u662f\u8fd9\u4e2a \u5982\u4e0b componentNameAsShortString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u7f29\u540d \u5982\u4e0b componentName ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u7684\u5305\u540d \u5982\u4e0b","title":"0.4.4. Activity Created"},{"location":"6-Profile/#045-activity-resumed","text":"\u901a\u5e38\u4e00\u4e2a\u5e94\u7528\u7684\u6d3b\u52a8\u9875\u5df2\u7ecf\u663e\u793a\uff0c\u53ef\u4ee5\u79f0\u4e3a Activity Resumed \u3002\u6b64\u65f6thanox\u4e5f\u4f1a\u53d1\u5e03\u8fd9\u4e2a\u4e8b\u5b9e\uff0c\u53c2\u6570\u5982\u4e0b\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b activityResumed Boolean\uff08true/false\uff09 \u6d3b\u52a8\u5df2\u7ecf\u663e\u793a \u5982\u4e0b componentNameAsString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u5168\u540d\uff0cThanox\u7684\u663e\u793a\u5f53\u524d\u6d3b\u52a8\u590d\u5236\u6765\u7684\u540d\u5b57\u5c31\u662f\u8fd9\u4e2a \u5982\u4e0b componentNameAsShortString String\uff08\u5b57\u7b26\u4e32\uff09 \u6d3b\u52a8\u7684\u7ec4\u4ef6\u7f29\u540d \u5982\u4e0b componentName ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u7684\u5305\u540d \u5982\u4e0b \u901a\u5e38\u5f88\u591a\u5e94\u7528\u542f\u52a8\u9996\u9875\u4f1a\u6709\u4e00\u4e2a\u9996\u9875\u663e\u793a\u5e7f\u544a\uff0c\u6709\u4e2a\u8df3\u8fc7\u6309\u94ae\u53ef\u4ee5\u70b9\u51fb\uff0c\u4e0b\u9762\u662f\u4f7f\u7528\u8be5\u4e8b\u5b9e\u5b9e\u73b0\u7684\u5e7f\u544a\u8df3\u8fc7\u793a\u4f8b\uff1a [ { \"name\": \"AD Skip\", \"description\": \"\u5f69\u4e91\u5929\u6c14\u5e7f\u544a\u9875\u9762\u70b9\u51fb\u8df3\u8fc7\", \"priority\": 1, \"condition\": \"activityResumed == true && componentNameAsShortString == \\\"com.nowcasting.activity/.SplashActivity\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u5c1d\u8bd5\u70b9\u51fb\u8df3\u8fc7...\\\");\", \"ui.findAndClickViewByText(\\\"\u8df3\u8fc7\\\", \\\"com.nowcasting.activity/com.nowcasting.activity.SplashActivity\\\");\" ] } ] \u63d0\u793a\uff1a \u6b64\u5904\u6761\u4ef6\u53ea\u5224\u65ad\u4e86\u5f69\u4e91\u5929\u6c14\uff0c\u53ef\u4ee5\u4f7f\u7528||\u64cd\u4f5c\u7b26\u505a\u591a\u6761\u4ef6\u5224\u65ad\u3002 \u6b64\u5904\u7684ui\u64cd\u4f5c\u540e\u7eed\u4f1a\u4ecb\u7ecd\u3002","title":"0.4.5. Activity Resumed"},{"location":"6-Profile/#046-activity-changed","text":"\u5f53\u524d\u524d\u53f0\u6d3b\u52a8(Activity)\u53d1\u751f\u6539\u53d8\u65f6thanox\u4f1a\u53d1\u5e03\u8be5\u4e8b\u4ef6\u3002(Since Thanox(or Pro)-2.5) \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b frontActivityChanged Boolean\uff08true/false\uff09 \u524d\u53f0Activity\u6539\u53d8 \u65e0 fromActivity ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u65e0 toActivity ComponentName \u6d3b\u52a8\u7684\u7ec4\u4ef6 \u65e0 ComponentName \u662f\u6d3b\u52a8\u7ec4\u4ef6\u540d\u79f0\u3002 \u4f8b\u5982\uff1a com.android.messaging/com.android.messaging.ui.conversationlist.ConversationListActivity Thanox\u7684\u5f00\u53d1\u8005\u8bbe\u7f6e\u4e2d\uff0c\"\u663e\u793a\u5f53\u524dActivity\"\u529f\u80fd\u4e5f\u53ef\u4ee5\u663e\u793a\u5f53\u524dactivity\u7684ComponentName\u3002","title":"0.4.6. Activity Changed"},{"location":"6-Profile/#047","text":"\u5e94\u7528\u88ab\u6740\u6b7b\u6216\u8005\u5176\u4ed6\u539f\u56e0\u505c\u6b62\u8fd0\u884c\uff0cThanox\u4f1a\u53d1\u5e03\u8be5\u4e8b\u5b9e\u3002 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b pkgKilled Boolean\uff08true/false\uff09 \u4efb\u52a1\u5df2\u79fb\u9664 \u5982\u4e0b pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u5305\u540d \u5982\u4e0b","title":"0.4.7. \u5e94\u7528\u505c\u6b62\u8fd0\u884c"},{"location":"6-Profile/#048","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b screenOn Boolean\uff08true/false\uff09 \u4eae\u5c4f\u4e8b\u4ef6 \u65e0 screenOff Boolean\uff08true/false\uff09 \u706d\u5c4f\u4e8b\u4ef6 \u65e0 userPresent Boolean\uff08true/false\uff09 \u89e3\u9501\u4e8b\u4ef6 \u65e0","title":"0.4.8. \u5c4f\u5e55\u5f00\u5173"},{"location":"6-Profile/#049","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b batteryChanged Boolean\uff08true/false\uff09 \u7535\u91cf\u53d1\u751f\u53d8\u5316 \u65e0 batteryLevel int \u7535\u91cf \u65e0 isCharging Boolean\uff08true/false\uff09 \u662f\u5426\u5728\u5145\u7535 \u65e0 isAcCharge Boolean\uff08true/false\uff09 \u662f\u5426\u4e3aAC \u65e0 isUsbCharge Boolean\uff08true/false\uff09 \u662f\u5426\u4e3aUSB \u65e0","title":"0.4.9. \u7535\u91cf\u53d8\u5316"},{"location":"6-Profile/#0410","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b btStateChanged Boolean\uff08true/false\uff09 \u84dd\u7259\u5f00\u5173\u72b6\u6001\u53d1\u751f\u53d8\u5316 \u65e0 btStateOff Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5173\u95ed\u72b6\u6001 \u65e0 btStateTurningOff Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u5173\u95ed\u72b6\u6001 \u65e0 btStateOn Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5f00\u542f\u72b6\u6001 \u65e0 btStateTurningOn Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u5f00\u542f\u72b6\u6001 \u65e0 btConnectionStateChanged Boolean\uff08true/false\uff09 \u84dd\u7259\u8fde\u63a5\u72b6\u6001\u53d1\u751f\u53d8\u5316 \u65e0 btConnectionStateConnected Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u5df2\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateConnecting Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateDisconnected Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u65ad\u5f00\u8fde\u63a5\u72b6\u6001 \u65e0 btConnectionStateDisconnecting Boolean\uff08true/false\uff09 \u84dd\u7259\u4e3a\u6b63\u5728\u65ad\u5f00\u8fde\u63a5\u72b6\u6001 \u65e0 btBoundedDevices List of BluetoothDevice \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u6a21\u578b\u5217\u8868 \u65e0 btBoundedDeviceAddresses List of String \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u5730\u5740\u5217\u8868 \u65e0 btBoundedDeviceAliasNames List of String \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907Alias\u5217\u8868 \u65e0 btBoundedDeviceBatteryLevel List of Int \u7ed1\u5b9a\u7684\u84dd\u7259\u8bbe\u5907\u7535\u91cf\u4fe1\u606f\u5217\u8868 \u65e0 \u8865\u5145\uff1a Battery level in percents from 0 to 100, or -1 if * Bluetooth is disabled, or device is disconnected, or does not have any battery reporting * service, or return value is invalid \u793a\u4f8b1\uff1a [ { \"name\": \"BT Connection State\", \"description\": \"\u84dd\u7259\u8fde\u63a5\u72b6\u6001\u76d1\u542c\uff0c\u6b64\u5904\u76d1\u542c\u8fde\u63a5\u4e8b\u4ef6\uff0cToast\u663e\u793a\u6240\u6709\u8fde\u63a5\u8bbe\u5907\uff0c\u5e76\u5224\u65ad\u662f\u4e0d\u662f\u8fde\u63a5\u7684MDR-XB650BT\", \"priority\": 2, \"condition\": \"btConnectionStateChanged == true && btConnectionStateConnected == true\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u6240\u6709\u8bbe\u5907\u540d\u79f0\u4e3a\uff1a\\\" + btBoundedDeviceAliasNames);\", \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u5305\u542bMDR-XB650BT\u8bbe\u5907\u5417\uff1f\\\" + btBoundedDeviceAliasNames.contains(\\\"MDR-XB650BT\\\"));\" ] } ] \u793a\u4f8b2\uff1a [ { \"name\": \"BT Connection State Advanced\", \"description\": \"\u540c\u84dd\u7259\u8fde\u63a5\u72b6\u6001\u76d1\u542c\uff0c\u53ea\u662f\u4f7f\u7528\u4e86btBoundedDevices:BluetoothDevice\u53c2\u6570\", \"priority\": 2, \"condition\": \"btConnectionStateChanged == true && btConnectionStateConnected == true\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u8fde\u63a5\u8fde\u63a5\u5230\u65b0\u8bbe\u5907\u4e86\uff0c\u7b2c\u4e00\u4e2a\u8bbe\u5907\u540d\u79f0\u4e3a\uff1a\\\" + btBoundedDevices.get(0).getAddress());\" ] } ]","title":"0.4.10. \u84dd\u7259\u4e8b\u4ef6"},{"location":"6-Profile/#0411-wifi","text":"Wifi\u72b6\u6001\u53d8\u5316\u65f6\u53d1\u51fa\u7684\u4e8b\u4ef6\u3002\uff08Since Thanox 2.5-2\uff09 \u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b wifiStateChanged Boolean\uff08true/false\uff09 Wifi\u72b6\u6001\u662f\u5426\u6539\u53d8 \u65e0 wifiState WifiState \u72b6\u6001 \u65e0 WifiState: data class WifiState( // \u662f\u5426\u662f\u5f00\u542f\u72b6\u6001 val enabled: Boolean, // \u72b6\u6001\u4fe1\u606f\uff08\u4f8b\u5982\uff1aNo network\uff09 val statusLabel: String?, // SSID\uff08\u4f8b\u5982\uff1aChinaNet-d2Xq-5G\uff09 val ssid: String? )","title":"0.4.11. Wifi\u72b6\u6001\u53d8\u5316"},{"location":"6-Profile/#0412","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b systemReady Boolean\uff08true/false\uff09 \u7cfb\u7edf\u542f\u52a8\u5b8c\u6210 \u65e0","title":"0.4.12. \u7cfb\u7edf\u542f\u52a8"},{"location":"6-Profile/#0413","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b fcmPushMessageArrived Boolean\uff08true/false\uff09 \u6536\u5230GCM/FCM\u6d88\u606f\u63a8\u9001 \u65e0 pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u5e94\u7528\u5305\u540d \u65e0","title":"0.4.13. \u63a8\u9001\u6d88\u606f"},{"location":"6-Profile/#0414","text":"\u53c2\u6570\u540d \u7c7b\u578b \u542b\u4e49 \u793a\u4f8b notificationAdded Boolean\uff08true/false\uff09 \u65b0\u901a\u77e5\u5230\u8fbe \u65e0 notificationRemoved Boolean\uff08true/false\uff09 \u901a\u77e5\u79fb\u9664 \u65e0 pkgName String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u6240\u5c5e\u5e94\u7528\u5305\u540d \u65e0 notificationTitle String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u6807\u9898 \u65e0 notificationContent String\uff08\u5b57\u7b26\u4e32\uff09 \u901a\u77e5\u5185\u5bb9 \u65e0","title":"0.4.14. \u901a\u77e5"},{"location":"6-Profile/#05-handle","text":"Thanox\u4f1a\u63d0\u4f9b\u4e00\u90e8\u5206\u6267\u884c\u52a8\u4f5c\u6240\u9700\u8981\u7684handle\u80fd\u529b\u3002\u4f8b\u5982ui\uff0c\u4e13\u95e8\u7528\u4e8e\u505a\u754c\u9762\u663e\u793a\u76f8\u5173\u7684\u52a8\u4f5c\u3002 \u4f60\u53ef\u4ee5\u4f7f\u7528 handle.action(params) \u6765\u6267\u884c\u81ea\u5b9a\u4e49\u7684\u52a8\u4f5c\u3002 \u4e0b\u9762\u662f\u76ee\u524d\u652f\u6301\u7684Handle\u80fd\u529b\u3002","title":"0.5. Handle"},{"location":"6-Profile/#051-killer","text":"\u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c killPackage \u6740\u6b7b\u5e94\u7528 \u5305\u540d killer.killPackage(\"com.tencent.mm\") Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"killer\") interface IKiller { boolean killPackage(String pkgName); } \u4e3e\u4f8b\uff1a \"actions\": [ // \u6740\u6b7b\u5fae\u4fe1 \"killer.killPackage(\\\"com.tencent.mm\\\")\" ]","title":"0.5.1. killer"},{"location":"6-Profile/#052-activity","text":"\u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c launchProcessForPackage \u542f\u52a8\u5e94\u7528\u8fdb\u7a0b \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 launchMainActivityForPackage \u6253\u5f00\u5e94\u7528\u4e3b\u754c\u9762 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 getLaunchIntentForPackage \u83b7\u53d6\u7528\u7528\u7684\u542f\u52a8Intent \u5305\u540d \u5982\u4e0b Intent getFrontAppPackage \u83b7\u53d6\u5f53\u524d\u524d\u53f0\u5e94\u7528\u5305\u540d \u65e0 \u5982\u4e0b String\uff08\u5b57\u7b26\u4e32\uff09 getFrontAppPackageComponent \u83b7\u53d6\u5f53\u524d\u524d\u53f0\u5e94\u7528\u7ec4\u4ef6 \u65e0 \u5982\u4e0b ComponentName \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"activity\") interface IActivity { boolean launchProcessForPackage(String pkgName); boolean launchActivity(Intent intent); boolean launchMainActivityForPackage(String pkgName); Intent getLaunchIntentForPackage(String pkgName); String getFrontAppPackage(); ComponentName getFrontAppPackageComponent(); } \u4e3e\u4f8b\uff1a \"actions\": [ // \u542f\u52a8\u5fae\u4fe1\u8fdb\u7a0b \"activity.launchProcessForPackage(\\\"com.tencent.mm\\\")\", // \u6253\u5f00\u5fae\u4fe1\u4e3b\u754c\u9762 \"activity.launchMainActivityForPackage(\\\"com.tencent.mm\\\")\", // \u5410\u53f8\u663e\u793a\u76ee\u524d\u524d\u53f0\u5e94\u7528\u5305\u540d \"toast.showShortToast(activity.getFrontAppPackage())\" ]","title":"0.5.2. activity"},{"location":"6-Profile/#053-power","text":"\u7535\u6e90\u76f8\u5173\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c sleep \u4f11\u7720\uff08\u9501\u5c4f\uff09 \u5ef6\u8fdf\u7684\u6beb\u79d2\u6570 \u5982\u4e0b \u65e0 wakeup \u5524\u9192 \u5ef6\u8fdf\u7684\u6beb\u79d2\u6570 \u5982\u4e0b \u65e0 setBrightness \u8bbe\u7f6e\u5c4f\u5e55\u4eae\u5ea6 \u4eae\u5ea6Level\u503c(0~255) \u5982\u4e0b \u65e0 getBrightness \u83b7\u53d6\u5f53\u524d\u5c4f\u5e55\u4eae\u5ea6 \u65e0 \u5982\u4e0b \u5ea6Level\u503c(0~255) setAutoBrightnessEnabled \u8bbe\u7f6e\u81ea\u52a8\u4eae\u5ea6\u5f00\u5173 true/false \u5982\u4e0b \u65e0 isAutoBrightnessEnabled \u662f\u5426\u5f00\u542f\u81ea\u52a8\u4eae\u5ea6 \u65e0 \u5982\u4e0b true/false \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"power\") interface IPower { void sleep(long delay); void wakeup(long delay); void setBrightness(int level); int getBrightness(); void setAutoBrightnessEnabled(boolean enable); boolean isAutoBrightnessEnabled(); } \u4e3e\u4f8b\uff1a { \"actions\": [ // \u7acb\u5373\u9501\u5c4f \"power.sleep(0)\", // 1\u79d2\u540e\u4eae\u5c4f \"power.wakeup(1000)\", \"power.setAutoBrightnessEnabled(false)\", \"power.setBrightness(power.getBrightness() + 1)\", ] }","title":"0.5.3. power"},{"location":"6-Profile/#054-task","text":"\u4efb\u52a1\u76f8\u5173\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c removeTasksForPackage \u79fb\u9664\u5e94\u7528\u7684\u6700\u8fd1\u4efb\u52a1 \u5305\u540d \u5982\u4e0b \u65e0 hasTaskFromPackage \u5e94\u7528\u662f\u5426\u6709\u6700\u8fd1\u4efb\u52a1 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 clearBackgroundTasks \u8c03\u7528thanox\u7684\u4efb\u52a1\u6e05\u7406\u529f\u80fd\uff0c\u6e05\u7406\u6240\u6709\u6700\u8fd1\u4efb\u52a1 \u65e0 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"task\") interface ITask { void removeTasksForPackage(String pkgName); boolean hasTaskFromPackage(String pkgName); void clearBackgroundTasks(); } \u4e3e\u4f8b\uff1a { // \u5224\u65ad\u5fae\u4fe1\u662f\u5426\u6709\u4efb\u52a1 \"condition\": \"true && task.hasTaskFromPackage(\\\"com.tencent.mm\\\")\", \"actions\": [ // \u79fb\u9664\u5fae\u4fe1\u7684\u6700\u8fd1\u4efb\u52a1 \"task.removeTasksForPackage(\\\"com.tencent.mm\\\")\" ] }","title":"0.5.4. task"},{"location":"6-Profile/#055-ui","text":"\u754c\u9762\u76f8\u5173 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c showShortToast \u663e\u793a\u63d0\u793a \u65e0 \u5982\u4e0b \u65e0 showLongToast \u663e\u793a\u65f6\u95f4\u8f83\u77ed\u7684\u63d0\u793a \u65e0 \u5982\u4e0b \u65e0 showDialog \u663e\u793a\u5bf9\u8bdd\u6846 \u6807\u9898\u6587\u672c\uff0c\u4fe1\u606f\u6587\u672c\uff0c\u786e\u8ba4\u6309\u94ae\u6587\u672c \u5982\u4e0b \u65e0 showNotification \u663e\u793a\u901a\u77e5 \u6807\u7b7e\uff08\u53ef\u7528\u4e8e\u53d6\u6d88\u901a\u77e5\uff09\u6807\u9898\u6587\u672c\uff0c\u4fe1\u606f\u6587\u672c\uff0c\u662f\u5426\u91cd\u8981 \u5982\u4e0b \u65e0 cancelNotification \u53d6\u6d88\u901a\u77e5 \u6807\u7b7e \u5982\u4e0b findAndClickViewByText \u70b9\u51fb\u67d0\u6587\u5b57\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff08\u9ed8\u8ba4\u5728\u5f53\u524d\u663e\u793a\u7684\u9875\u6d3b\u52a8\u9875\u67e5\u8be2\uff09 \u5982\u4e0b \u65e0 findAndClickViewByText \u70b9\u51fb\u67d0\u6587\u5b57\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff0c\u6240\u5728\u6d3b\u52a8\u7ec4\u4ef6 \u5982\u4e0b \u65e0 findAndClickViewById \u70b9\u51fb\u67d0ID\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff08\u9ed8\u8ba4\u5728\u5f53\u524d\u663e\u793a\u7684\u9875\u6d3b\u52a8\u9875\u67e5\u8be2\uff09 \u5982\u4e0b \u65e0 findAndClickViewById \u70b9\u51fb\u67d0ID\u7684\u89c6\u56fe \u8981\u70b9\u51fb\u89c6\u56fe\u7684\u6587\u672c\uff0c\u6240\u5728\u6d3b\u52a8\u7ec4\u4ef6 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"ui\") interface IUI { void showShortToast(@NonNull String msg); void showLongToast(@NonNull String msg); void showDialog(@Nullable String title, @NonNull String msg, @Nullable String yes); void showNotification( @NonNull String notificationTag, @NonNull String title, @NonNull String msg, boolean important); void cancelNotification(@NonNull String notificationTag); void findAndClickViewByText(@NonNull String text); void findAndClickViewByText(@NonNull String text, @Nullable String componentNameShortString); } \u4e3e\u4f8b\uff1a [ { \"name\": \"AD Skip\", \"description\": \"\u5f69\u4e91\u5929\u6c14\u5e7f\u544a\u9875\u9762\u70b9\u51fb\u8df3\u8fc7\", \"priority\": 1, \"condition\": \"activityResumed == true && componentNameAsShortString == \\\"com.nowcasting.activity/.SplashActivity\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u5c1d\u8bd5\u70b9\u51fb\u8df3\u8fc7...\\\");\", \"ui.findAndClickViewByText(\\\"\u8df3\u8fc7\\\", \\\"com.nowcasting.activity/com.nowcasting.activity.SplashActivity\\\");\" ] } ] \u63d0\u793a\uff1a \u5982\u4f55\u83b7\u53d6\u4e00\u4e2aView\u7684ID\uff1f \u4e0d\u662f\u6240\u6709\u7684View\u90fd\u4f1a\u88ab\u5206\u914d\u4e00\u4e2aID\uff0c\u4f60\u53ef\u4ee5\u501f\u52a9\u4e00\u4e9b\u5f00\u53d1\u5de5\u5177\u6765\u83b7\u53d6\uff0c\u4e0d\u77e5\u9053\u662f\u5426\u6709\u8fd9\u6837\u7684App\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6\uff0c Thanox\u9ed8\u8ba4\u5e26\u4e86\u4e00\u4e2aViewId\u52a9\u624b\uff0c\u4f60\u9700\u8981\u6253\u5f00\u7cfb\u7edf\u8bbe\u7f6e--\u5f00\u53d1\u8005\u9009\u9879--\u663e\u793a\u5e03\u5c40\u8fb9\u754c\uff0c\u754c\u9762\u4e0a\u4f1a\u51fa\u73b0\u6240\u6709View\u7684ID\u3002 \u6ce8\u610f\uff0c\u4e0a\u8ff0Handle\u652f\u6301\u7684ViewId\u7684\u683c\u5f0f\u4e3a\uff1a \u5305\u540d:id/\u771f\u6b63\u7684id \uff0c\u4f8b\u5982\uff1a com.coolapk.market:id/title_view \u5728\u63a8\u8350\u4e00\u4e2aAndroid\u5f00\u53d1\u5de5\u5177\uff1auiautomatorviewer\uff0c\u9700\u8981\u4e0b\u8f7dAndroid SDK\u3002\u5177\u4f53\u914d\u7f6e\u53ef\u4ee5Google\u3002 \u4f7f\u7528\u5982\u56fe\uff1a","title":"0.5.5. ui"},{"location":"6-Profile/#056-hw","text":"\u786c\u4ef6\u64cd\u4f5c\u80fd\u529b \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c enableWifi \u770b\u540d\u5b57 \u5305\u540d \u5982\u4e0b Boolean\uff08true/false\uff09 disableWifi \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isWifiEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableLocation \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableLocation \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isLocationEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableBT \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableBT \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isBTEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enableNfc \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableNfc \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isNfcEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 enabledFlashlight \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 disableFlashlight \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isFlashlightEnabled \u770b\u540d\u5b57 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 isFlashlightAvailable \u624b\u7535\u7b52\u662f\u5426\u53ef\u7528\uff08\u88ab\u5360\u7528\uff1f\u65e0\u786c\u4ef6\uff1f\uff09 \u65e0 \u5982\u4e0b Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"hw\") interface IHW { boolean enableWifi(); boolean disableWifi(); boolean isWifiEnabled(); boolean enableLocation(); boolean disableLocation(); boolean isLocationEnabled(); boolean enableBT(); boolean disableBT(); boolean isBTEnabled(); boolean enableNfc(); boolean disableNfc(); boolean isNfcEnabled(); boolean enabledFlashlight(); boolean disableFlashlight(); boolean isFlashlightEnabled(); boolean isFlashlightAvailable(); } \u4e3e\u4f8b\uff1a [ { \"name\": \"Enable BT\", \"description\": \"\u6253\u5f00\u5fae\u4fe1\u65f6\uff0c\u6253\u5f00\u84dd\u7259\", \"priority\": 2, \"condition\": \"frontPkgChanged == true && to == \\\"com.tencent.mm\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u84dd\u7259\u72b6\u6001\\\" + (hw.isBTEnabled() ? \\\"\u5f00\u542f\\\" : \\\"\u5173\u95ed\\\"));\", \"ui.showShortToast(\\\"\u6b63\u5728\u6253\u5f00\u84dd\u7259...\\\");\", \"ui.showShortToast(\\\"\u84dd\u7259\u6253\u5f00\\\" + (hw.enableBT() ? \\\"\u6210\u529f\\\" : \\\"\u5931\u8d25\\\"));\", // \u6253\u5f00GPS \"hw.enableLocation()\", \"hw.enableWifi()\" ] } ]","title":"0.5.6. hw"},{"location":"6-Profile/#057-io","text":"\u6587\u4ef6\u8bfb\u5199\u80fd\u529b\u3002 \u6ce8\u610f\uff1a\u53d7\u9650\u4e8e\u6587\u4ef6\u6743\u9650\uff0c\u6240\u6709\u6587\u4ef6\u7684\u6839\u76ee\u5f55\u4e3a/data/system/thanos/profile_user_io \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c read \u8bfb\u53d6\u6587\u4ef6 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 String disableWifi \u5199\u5185\u5bb9\u5230\u6587\u4ef6 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 Boolean\uff08true/false\uff09 writeAppend \u5199\u5185\u5bb9\u5230\u6587\u4ef6\uff0c\u8ffd\u52a0 \u6587\u4ef6\u76f8\u5bf9\u8def\u5f84 \u7565 Boolean\uff08true/false\uff09 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"io\") interface IIO { String read(String path); boolean write(String path, String content); boolean writeAppend(String path, String content); }","title":"0.5.7. io"},{"location":"6-Profile/#058-data","text":"\u79fb\u52a8\u6570\u636e\u76f8\u5173\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c setDataEnabled \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 setDataEnabled \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u5e8f\u53f7\uff09 \u5361\u5e8f\u53f7\uff0ctrue\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b \u65e0 setDataEnabledForSlot \u8bbe\u7f6e\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u69fd\u53f7\uff09 \u5361\u5e8f\u53f7\uff0ctrue\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b \u65e0 isDataEnabled \u83b7\u53d6\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 isDataEnabledForSlot \u83b7\u53d6\u79fb\u52a8\u6570\u636e\u5f00\u542f\u72b6\u6001\uff08\u53ef\u4ee5\u6307\u5b9a\u5361\u69fd\u53f7\uff09 true\u6253\u5f00\uff0cfalse\u5173\u95ed \u5982\u4e0b Boolean\uff08true/false\uff09 setDataNetworkType \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f type \u5982\u4e0b \u65e0 setDataNetworkTypeForPhone \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f\uff08\u6307\u5b9a\u67d0\u4e2a\u5361\uff09 phoneId\uff0ctype \u5982\u4e0b \u65e0 setDataNetworkTypeForSlot \u8bbe\u7f6e\u7f51\u7edc\u6a21\u5f0f\uff08\u6307\u5b9a\u67d0\u4e2a\u5361\u69fd\u53f7\uff09 slotId\uff0ctype \u5982\u4e0b \u65e0 getCurrentPreferredNetworkMode \u83b7\u53d6\u5f53\u524d\u9ed8\u8ba4\u5361\u7684\u7f51\u7edc\u6a21\u5f0f \u65e0 \u5982\u4e0b int getCurrentPreferredNetworkMode \u83b7\u53d6\u67d0subId\u7684\u7f51\u7edc\u6a21\u5f0f subId \u5982\u4e0b int getCurrentPreferredNetworkModeForSlot \u83b7\u53d6\u67d0\u5361\u69fd\u7684\u7f51\u7edc\u6a21\u5f0f slotId \u5982\u4e0b int \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"data\") interface IData { void setDataEnabled(boolean enable); void setDataEnabled(int subId, boolean enable); void setDataEnabledForSlot(int slotId, boolean enable); boolean isDataEnabled(); boolean isDataEnabledForSlot(int slotId); void setDataNetworkType(int type); void setDataNetworkTypeForPhone(int phoneId, int type); void setDataNetworkTypeForSlot(int slotId, int type); int getCurrentPreferredNetworkMode(); int getCurrentPreferredNetworkMode(int subId); int getCurrentPreferredNetworkModeForSlot(int slotId); } \u6570\u636e\u7f51\u7edc\u6a21\u5f0f\u7c7b\u578b\uff1a // Network type enums, primarily used by android/telephony/TelephonyManager.java. // Do not add negative types. enum NetworkTypeEnum { NETWORK_TYPE_UNKNOWN = 0; NETWORK_TYPE_GPRS = 1; NETWORK_TYPE_EDGE = 2; NETWORK_TYPE_UMTS = 3; NETWORK_TYPE_CDMA = 4; NETWORK_TYPE_EVDO_0 = 5; NETWORK_TYPE_EVDO_A = 6; NETWORK_TYPE_1XRTT = 7; NETWORK_TYPE_HSDPA = 8; NETWORK_TYPE_HSUPA = 9; NETWORK_TYPE_HSPA = 10; NETWORK_TYPE_IDEN = 11; NETWORK_TYPE_EVDO_B = 12; NETWORK_TYPE_LTE = 13; NETWORK_TYPE_EHRPD = 14; NETWORK_TYPE_HSPAP = 15; NETWORK_TYPE_GSM = 16; NETWORK_TYPE_TD_SCDMA = 17; NETWORK_TYPE_IWLAN = 18; NETWORK_TYPE_LTE_CA = 19; NETWORK_TYPE_NR = 20; } \u4e3e\u4f8b\uff1a [ { \"name\": \"Enable Data\", \"description\": \"\u6253\u5f00\u5fae\u4fe1\u65f6\uff0c\u6253\u5f00\u79fb\u52a8\u6570\u636e\", \"priority\": 2, \"condition\": \"frontPkgChanged == true && to == \\\"com.tencent.mm\\\"\", \"actions\": [ \"ui.showShortToast(\\\"\u79fb\u52a8\u6570\u636e\u5f53\u524d\\\" + (data.isDataEnabled() ? \\\"\u5f00\u542f\\\" : \\\"\u5173\u95ed\\\"));\", \"ui.showShortToast(\\\"\u6b63\u5728\u6253\u5f00\u79fb\u52a8\u6570\u636e...\\\");\", \"data.setDataEnabled(true)\" ] } ]","title":"0.5.8. data"},{"location":"6-Profile/#059-ringtone","text":"\u94c3\u97f3\u632f\u52a8\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c dingdingding \u770b\u540d\u5b57 \u65e0\u6216\u8005\u91cd\u590d\u6b21\u6570 \u5982\u4e0b \u65e0 wengwengweng \u770b\u540d\u5b57 \u65e0\u6216\u8005\u91cd\u590d\u6b21\u6570 \u5982\u4e0b \u65e0 \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"ringtone\") interface IRingtone { void dingdingding(); void wengwengweng(); void dingdingding(int repeat); void wengwengweng(int repeat); }","title":"0.5.9. ringtone"},{"location":"6-Profile/#0510-sh","text":"Shell sh\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c exe \u6267\u884csh\u547d\u4ee4 \u547d\u4ee4\u5b57\u7b26\u4e32 \u65e0 \u7ed3\u679c \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"sh\") interface ISh { CommandResult exe(String command); }","title":"0.5.10. sh"},{"location":"6-Profile/#0511-input","text":"\u6309\u952e\u8f93\u5165\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c injectKey \u6267\u884csh\u547d\u4ee4 \u547d\u4ee4\u5b57\u7b26\u4e32 \u65e0 \u7ed3\u679c getLastKey \u8fd4\u56de\u4e0a\u6b21\u6309\u952e\u7801 \u65e0 \u65e0 \u6309\u952e\u7801 getLastKeyTime \u8fd4\u56de\u4e0a\u6b21\u6309\u952e\u7684\u7cfb\u7edf\u65f6\u95f4 \u65e0 \u65e0 \u7cfb\u7edf\u65f6\u95f4mills \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"input\") interface IInput { boolean injectKey(int code); int getLastKey(); long getLastKeyTime(); }","title":"0.5.11. input"},{"location":"6-Profile/#0512-pkg","text":"\u5305\u7ba1\u7406\u80fd\u529b\u3002 \u80fd\u529b \u542b\u4e49 \u53c2\u6570 \u4e3e\u4f8b \u8fd4\u56de\u503c disableApplication \u51bb\u7ed3\u5e94\u7528 \u5305\u540d \u65e0 \u65e0 enableApplication \u89e3\u51bb\u5e94\u7528 \u5305\u540d \u65e0 \u65e0 isApplicationEnabled \u5e94\u7528\u662f\u5426\u4e3a\u975e\u51bb\u7ed3\u72b6\u6001 \u5305\u540d \u65e0 Boolean(true/false) \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"pkg\") interface IPkg { void disableApplication(String pkg); void enableApplication(String pkg); boolean isApplicationEnabled(String pkg); }","title":"0.5.12. pkg"},{"location":"6-Profile/#0513-log","text":"\u65e5\u5fd7\u6253\u5370\u5de5\u5177\u3002 \u4f7f\u7528\u793a\u4f8b: log.log(\"Log message\"); \u63a5\u53e3\u5b9a\u4e49\uff1a @HandlerName(\"log\") public interface ILog { void log(String content); }","title":"0.5.13. Log"},{"location":"6-Profile/#06","text":"\u5168\u5c40\u53d8\u91cf\uff1aname-List \uff0c\u540d\u5b57---\u5b57\u7b26\u4e32\u5217\u8868 \u53ef\u7528\u4e8e\u6761\u4ef6\u5224\u65ad\uff0c\u4e8b\u4ef6\u5904\u7406\u7b49\u3002 Thanox\u652f\u6301\u521b\u5efa\uff0c\u5bfc\u5165\u5168\u5c40\u53d8\u91cf\u3002\u53d1\u5e03\u4e8b\u5b9e\u65f6\uff0c\u4f60\u53ef\u4ee5\u7528\u8fc7 globalVarOf$ \u62fc\u63a5 \u53d8\u91cf\u540d \u6765\u8bbf\u95ee\u3002\u4ee5\u53d8\u91cfapps\u4e3a\u4f8b\uff1a [ { \"name\": \"Use var example\", \"description\": \"\u5e94\u7528\u5207\u6362\u65f6\uff0c\u5982\u679c\u5f53\u524d\u524d\u53f0\u5e94\u7528\u5728\u5b9a\u4e49\u7684\u53d8\u91cf\u5217\u8868apps\u4e2d\uff0cToast\u4f7f\u7528\u8f93\u51fa\u5305\u540d\", \"priority\": 1, \"condition\": \"frontPkgChanged == true && globalVarOf$apps.contains(to)\", \"actions\": [ \"ui.showShortToast(to);\" ] } ]","title":"0.6. \u5168\u5c40\u53d8\u91cf"}]}