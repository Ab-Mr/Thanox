<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>后台启动 - Thanox</title> <link rel="shortcut icon" href="/Thanox/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/Thanox/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/Thanox/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/Thanox/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>后台启动 | Thanox</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="后台启动" /> <meta property="og:locale" content="zh" /> <meta property="og:site_name" content="Thanox" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2018-07-14T23:58:00+08:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="后台启动" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2018-07-14T23:58:00+08:00","datePublished":"2018-07-14T23:58:00+08:00","headline":"后台启动","mainEntityOfPage":{"@type":"WebPage","@id":"/Thanox/docs/bg_start"},"url":"/Thanox/docs/bg_start"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/Thanox/" class="site-title lh-tight"> Thanox </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/Thanox/" class="nav-list-link">欢迎使用Thanox</a></li><li class="nav-list-item"><a href="/Thanox/docs/intro" class="nav-list-link">应用介绍</a></li><li class="nav-list-item"><a href="/Thanox/docs/install_active" class="nav-list-link">安装与激活</a></li><li class="nav-list-item active"><a href="/Thanox/docs/bg_start" class="nav-list-link active">后台启动</a></li><li class="nav-list-item"><a href="/Thanox/docs/bg_restrict" class="nav-list-link">后台运行</a></li><li class="nav-list-item"><a href="/Thanox/docs/clean-tasks" class="nav-list-link">任务清理</a></li><li class="nav-list-item"><a href="/Thanox/docs/smart-freeze" class="nav-list-link">智能冻结</a></li><li class="nav-list-item"><a href="/Thanox/docs/privacy-cheat" class="nav-list-link">隐匿</a></li><li class="nav-list-item"><a href="/Thanox/docs/activity_trampoline" class="nav-list-link">移花接木</a></li><li class="nav-list-item"><a href="/Thanox/docs/profile" class="nav-list-link">Profile</a></li><li class="nav-list-item"><a href="/Thanox/docs/xmode" class="nav-list-link">乖巧模式</a></li><li class="nav-list-item"><a href="/Thanox/docs/feedback" class="nav-list-link">反馈与建议</a></li><li class="nav-list-item"><a href="/Thanox/docs/privacy_statement" class="nav-list-link">隐私声明</a></li><li class="nav-list-item"><a href="/Thanox/docs/qa" class="nav-list-link">常见问题</a></li><li class="nav-list-item"><a href="/Thanox/docs/reference" class="nav-list-link">其他文章参考</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Thanox" aria-label="Search Thanox" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div align="right"> <p> <!-- jekyll-polyglot will process ferh= into href= through the static_href liquid block tag without relativizing the url; useful for making language navigation switchers --> <a href="/Thanox/en/docs/bg_start">English</a> | <a style="font-weight: bold;" href="/Thanox/docs/bg_start">简体中文</a> | </p> </div> <div id="main-content" class="main-content" role="main"> <!-- more --> <h2 id="功能介绍"> <a href="#功能介绍" class="anchor-heading" aria-labelledby="功能介绍"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 功能介绍 </h2> <p>Thanox的后台启动功能可以有效的拦截app在后台被偷偷启动（通常称为：关联启动）的问题。</p> <h2 id="使用说明"> <a href="#使用说明" class="anchor-heading" aria-labelledby="使用说明"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 使用说明 </h2> <p>首先需要开启“后台启动”功能的总开关。</p> <p>默认情况下Thanox允许所有应用后台启动（有些ROM自带的安全管家可能也会拦截一些应用的后台启动，默认情况下Thanox不做任何干涉），如果你希望阻止某个App的后台启动，那么只需要在下方app列表中关闭该应用的开关即可。</p> <blockquote> <p>注意：阻止某些应用的后台启动，可能会导致某些App无法正常使用，例如华为运动健康需要启动HMS Core，如果你阻止了HMS Core的后台自启，那么运动健康可能无法正常登录。</p> </blockquote> <p><img src="../../assets/images/bg-start-1.png" alt="Main" /></p> <h2 id="允许与阻止的原则"> <a href="#允许与阻止的原则" class="anchor-heading" aria-labelledby="允许与阻止的原则"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 允许与阻止的原则 </h2> <p>Thanox会根据用户配置、App运行状态、规则等综合因素来决定是否要拦截某个app的关联启动。如果要查看一个app为什么被阻止或允许了启动，可以进入后台启动功能，右上角菜单查看启动记录，点击chart中间的大数字，可以进入启动记录详情页面。</p> <p><img src="../../assets/images/bg-start-record.png" alt="Record" /></p> <p>图中可以看到每条启动记录的处理结果（允许或阻止）和原因，其中<code class="language-plaintext highlighter-rouge">BYPASS_XXX</code>代表允许的原因，<code class="language-plaintext highlighter-rouge">BLOCKED_XXX</code>代表阻止原因。</p> <p>下面是<code class="language-plaintext highlighter-rouge">BYPASS</code>和<code class="language-plaintext highlighter-rouge">BLOCK</code>的对照表：</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">允许原因</th> <th style="text-align: right">含义</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">BY PASS WHITE LISTED</td> <td style="text-align: right">目标应用为白名单应用</td> </tr> <tr> <td style="text-align: left">BY PASS CALLER WHITE LISTED</td> <td style="text-align: right">调用方应用为白名单应用</td> </tr> <tr> <td style="text-align: left">BY PASS ACCESSIBILITY SERVICE</td> <td style="text-align: right">目标应用开启了辅助功能</td> </tr> <tr> <td style="text-align: left">BY PASS BAD ARGS</td> <td style="text-align: right">Thanox内部出问题了，那就允许吧</td> </tr> <tr> <td style="text-align: left">BY PASS START BLOCKED DISABLED</td> <td style="text-align: right">没打开后台启动功能，当然允许</td> </tr> <tr> <td style="text-align: left">BY PASS UI PRESENT</td> <td style="text-align: right">目标应用在前台展示，也要允许</td> </tr> <tr> <td style="text-align: left">BY PASS DEFAULT IME SERVICE</td> <td style="text-align: right">目标应用是默认输入法，要允许</td> </tr> <tr> <td style="text-align: left">BY PASS PROCESS RUNNING</td> <td style="text-align: right">目标应用已经在运行中了，要允许</td> </tr> <tr> <td style="text-align: left">BY PASS SAME CALLING UID</td> <td style="text-align: right">应用自己调用了自己的组件进行启动，要允许，也说明该应用已经在运行中</td> </tr> <tr> <td style="text-align: left">BY PASS SMS APP</td> <td style="text-align: right">短信应用</td> </tr> <tr> <td style="text-align: left">BYPASS USER RULE</td> <td style="text-align: right">由于后台启动规则而允许</td> </tr> <tr> <td style="text-align: left">BY PASS DEFAULT</td> <td style="text-align: right">未命中任何分支，默认为允许</td> </tr> </tbody> </table></div> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">阻止原因</th> <th style="text-align: right">含义</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">BLOCKED STRUGGLE</td> <td style="text-align: right">目标应用刚被杀死，短时间阻止其再次启动，主要用来对抗一些黑科技</td> </tr> <tr> <td style="text-align: left">BLOCKED IN BLOCK LIST</td> <td style="text-align: right">目标应用被用户关闭了后台启动</td> </tr> <tr> <td style="text-align: left">BLOCKED COMPONENT IS DISABLED</td> <td style="text-align: right">要启动的组件已经被禁用了，例如某个服务</td> </tr> <tr> <td style="text-align: left">BLOCKED STANDBY</td> <td style="text-align: right">目标应用被开启了乖巧模式</td> </tr> <tr> <td style="text-align: left">BLOCKED USER RULE</td> <td style="text-align: right">由于后台启动规则而阻止</td> </tr> <tr> <td style="text-align: left">BLOCKED BLOCK API</td> <td style="text-align: right">通过block API阻止</td> </tr> </tbody> </table></div> <h2 id="规则"> <a href="#规则" class="anchor-heading" aria-labelledby="规则"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 规则 </h2> <p>后台启动规则可以更精确的控制app的后台启动行为，例如；通过规则，可以只允许微信在后台被QQ启动而禁止被其他app启动。</p> <h3 id="规则语法"> <a href="#规则语法" class="anchor-heading" aria-labelledby="规则语法"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 规则语法 </h3> <p>规则语法为两个部分：</p> <ul> <li> <p><strong>行动</strong>；行动包括两种，分别是：<code class="language-plaintext highlighter-rouge">ALLOW（允许）</code>、<code class="language-plaintext highlighter-rouge">DENY（拒绝）</code></p> </li> <li> <p>角色；包括<strong>启动者app</strong>和<strong>目标app</strong>，分别为对用两个app的包名，也可以用<code class="language-plaintext highlighter-rouge">THIS</code>表示某个应用自己。</p> </li> </ul> <p>举例说明：</p> <p>如果想允许微信启动QQ，可以添加规则：<code class="language-plaintext highlighter-rouge">ALLOW com.tencent.mm com.tencent.qq</code>；<br /> 如果想允许Android系统启动所有应用，可以添加规则：<code class="language-plaintext highlighter-rouge">ALLOW android *</code>；<br /> 如果想要拒绝任何应用启动微信：<code class="language-plaintext highlighter-rouge">DENY * com.tencent.mm</code>。</p> <p>便利：</p> <p>支持一些常用的名称代替角色，目前可用代号包括：<code class="language-plaintext highlighter-rouge">SHELL</code>，<code class="language-plaintext highlighter-rouge">ROOT</code>。 <br /> 例如，如果想允许Shell启动任何QQ：<code class="language-plaintext highlighter-rouge">ALLOW SHELL com.tencent.qq</code></p> <p><img src="../../assets/images/bg-start-rule.png" alt="Rule" /></p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
